(()=>{"use strict";var e={6960:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Gt});var r=n(4942),a=n(885),o=n(5861),i=n(2321),l=n(7920),s=n(703),c=n(4043),u=n(7198),d=n.n(u),f=n(8482);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const g=function(e){return(0,f.jsxs)(d(),p(p({xmlns:"http://www.w3.org/2000/svg",width:588,height:285,fill:"none"},e),{},{children:[(0,f.jsx)(u.Path,{fill:"#000",d:"M92.94 177V87.4h12.8v78.464h48.512V177H92.94Zm74.208 0v-67.84h12.288V177h-12.288Zm6.144-80.896c-2.389 0-4.395-.768-6.016-2.304-1.536-1.536-2.304-3.413-2.304-5.632 0-2.304.768-4.224 2.304-5.76 1.621-1.536 3.627-2.304 6.016-2.304 2.389 0 4.352.768 5.888 2.304 1.621 1.45 2.432 3.285 2.432 5.504 0 2.304-.768 4.267-2.304 5.888-1.536 1.536-3.541 2.304-6.016 2.304Zm65.83 12.416c5.547 0 10.411 1.067 14.592 3.2 4.267 2.133 7.595 5.376 9.984 9.728 2.389 4.352 3.584 9.856 3.584 16.512V177h-12.288v-37.632c0-6.571-1.621-11.52-4.864-14.848-3.157-3.328-7.637-4.992-13.44-4.992-4.352 0-8.149.853-11.392 2.56-3.243 1.707-5.76 4.224-7.552 7.552-1.707 3.328-2.56 7.467-2.56 12.416V177h-12.288v-67.84h11.776v18.304l-1.92-4.864c2.219-4.437 5.632-7.893 10.24-10.368 4.608-2.475 9.984-3.712 16.128-3.712Zm60.885 52.096.256-15.744 39.04-35.712h14.848l-29.952 29.44-6.656 5.632-17.536 16.384ZM290.023 177V82.024h12.288V177h-12.288Zm51.84 0-26.624-33.024 7.936-9.856L356.967 177h-15.104Zm27.035 0v-67.84h12.288V177h-12.288Zm6.144-80.896c-2.389 0-4.395-.768-6.016-2.304-1.536-1.536-2.304-3.413-2.304-5.632 0-2.304.768-4.224 2.304-5.76 1.621-1.536 3.627-2.304 6.016-2.304 2.389 0 4.352.768 5.888 2.304 1.621 1.45 2.432 3.285 2.432 5.504 0 2.304-.768 4.267-2.304 5.888-1.536 1.536-3.541 2.304-6.016 2.304Zm65.83 12.416c5.547 0 10.411 1.067 14.592 3.2 4.267 2.133 7.595 5.376 9.984 9.728 2.389 4.352 3.584 9.856 3.584 16.512V177h-12.288v-37.632c0-6.571-1.621-11.52-4.864-14.848-3.157-3.328-7.637-4.992-13.44-4.992-4.352 0-8.149.853-11.392 2.56-3.243 1.707-5.76 4.224-7.552 7.552-1.707 3.328-2.56 7.467-2.56 12.416V177h-12.288v-67.84h11.776v18.304l-1.92-4.864c2.219-4.437 5.632-7.893 10.24-10.368 4.608-2.475 9.984-3.712 16.128-3.712Zm80.597 94.08a62.083 62.083 0 0 1-18.176-2.688c-5.803-1.707-10.539-4.181-14.208-7.424l5.888-9.472c3.157 2.731 7.04 4.864 11.648 6.4 4.608 1.621 9.429 2.432 14.464 2.432 8.021 0 13.909-1.877 17.664-5.632 3.755-3.755 5.632-9.472 5.632-17.152v-14.336l1.28-13.44-.64-13.568v-18.56h11.648v58.624c0 11.947-2.987 20.736-8.96 26.368-5.973 5.632-14.72 8.448-26.24 8.448Zm-1.536-28.416c-6.571 0-12.459-1.365-17.664-4.096-5.12-2.816-9.216-6.699-12.288-11.648-2.987-4.949-4.48-10.667-4.48-17.152 0-6.571 1.493-12.288 4.48-17.152 3.072-4.949 7.168-8.789 12.288-11.52 5.205-2.731 11.093-4.096 17.664-4.096 5.803 0 11.093 1.195 15.872 3.584 4.779 2.304 8.576 5.888 11.392 10.752 2.901 4.864 4.352 11.008 4.352 18.432 0 7.339-1.451 13.44-4.352 18.304-2.816 4.864-6.613 8.533-11.392 11.008-4.779 2.389-10.069 3.584-15.872 3.584Zm1.408-10.752c4.523 0 8.533-.939 12.032-2.816 3.499-1.877 6.229-4.48 8.192-7.808 2.048-3.328 3.072-7.168 3.072-11.52 0-4.352-1.024-8.192-3.072-11.52-1.963-3.328-4.693-5.888-8.192-7.68-3.499-1.877-7.509-2.816-12.032-2.816s-8.576.939-12.16 2.816c-3.499 1.792-6.272 4.352-8.32 7.68-1.963 3.328-2.944 7.168-2.944 11.52 0 4.352.981 8.192 2.944 11.52 2.048 3.328 4.821 5.931 8.32 7.808 3.584 1.877 7.637 2.816 12.16 2.816Z"}),(0,f.jsx)(u.Path,{fill:"#0076B9",d:"M228.523 201.561a5 5 0 0 1 1.447-7.4l11.54-6.661a5 5 0 0 1 6.83 1.83l50.17 86.906a4.732 4.732 0 0 1-7.834 5.27l-62.153-79.945Z"}),(0,f.jsx)(u.Path,{fill:"#000",fillOpacity:.2,d:"M228.523 201.561a5 5 0 0 1 1.447-7.4l11.54-6.661a5 5 0 0 1 6.83 1.83l50.17 86.906a4.732 4.732 0 0 1-7.834 5.27l-62.153-79.945Z"}),(0,f.jsx)(u.Path,{fill:"#0076B9",d:"M256.664 213.001A139 139 0 0 1 .512 150.914 138.998 138.998 0 0 1 168.54 3.175a139.003 139.003 0 0 1 73.756 42.814l-24.723 22.262A105.735 105.735 0 0 0 96.909 42.008 105.731 105.731 0 1 0 228.502 195.29l28.162 17.711Z"}),(0,f.jsx)(u.Path,{fill:"#000",fillOpacity:.2,d:"M256.664 213.001A139 139 0 0 1 .512 150.914 138.998 138.998 0 0 1 168.54 3.175a139.003 139.003 0 0 1 73.756 42.814l-24.723 22.262A105.735 105.735 0 0 0 96.909 42.008 105.731 105.731 0 1 0 228.502 195.29l28.162 17.711Z"})]}))};var m=n(939),y=n(4617);var j=n(6863),b=n(3743);function x(e){var t=e.title,n=e.onPress,r=e.disabled,a=function(e){var t=.1*r,n=(0,y.default)(),r=n.width,a=n.height,o=e?"rgba(0, 0, 0, 0.35)":"rgba(0, 118, 185, 0.35)";return m.default.create({button:{backgroundColor:o,borderRadius:14,minWidth:t,paddingVertical:10,paddingHorizontal:20,alignSelf:"right",marginVertical:10,marginRight:20,flex:1},buttonText:{fontFamily:"Montserrat-Regular",color:"#000000",fontSize:Math.min(.015*r,.06*a),textAlign:"center"}})}(r);return(0,f.jsx)(b.default,{style:a.button,onPress:n,disabled:r,children:(0,f.jsx)(j.default,{style:a.buttonText,children:t})})}function v(){return m.default.create({container:{flex:1,backgroundColor:"#FFFFFF",justifyContent:"center",alignItems:"center"},headerButton:{marginTop:30},containerMain:{flex:1,backgroundColor:"rgba(0, 118, 185, 0.35)",justifyContent:"center",alignItems:"center"},bottomLeft:{position:"absolute",bottom:20,left:20},topLeft:{position:"absolute",top:20,left:20},textContainer:{backgroundColor:"#FFFFFF",borderRadius:35,padding:30,shadowColor:"#000",shadowOffset:{width:2,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:7,position:"absolute",top:"30%",alignSelf:"auto",alignItems:"center",justifyContent:"center"},messageContainer:{backgroundColor:"#FFFFFF",borderRadius:35,padding:20,shadowColor:"#000",shadowOffset:{width:2,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:7,position:"absolute",top:"30%",width:"40%",height:"40%",justifyContent:"center",alignItems:"center"},text:{fontFamily:"Montserrat-Regular",color:"#000000",fontSize:24,textAlign:"center"},inputContainer:{width:"80%",alignItems:"center",justifyContent:"flex-start",paddingTop:20}})}var w=n(7158),O=(0,i.createContext)(),P=function(e){var t=e.children,n=(0,i.useState)(null),r=(0,a.default)(n,2),o=r[0],l=r[1];(0,i.useEffect)((function(){var e=localStorage.getItem("selectedImage");e&&l(JSON.parse(e))}),[]);return(0,f.jsx)(O.Provider,{value:{selectedImage:o,updateSelectedImage:function(e){l(e),localStorage.setItem("selectedImage",JSON.stringify(e))}},children:t})},C=(0,i.createContext)(),S=function(e){var t=e.children,n=(0,i.useState)(!1),r=(0,a.default)(n,2),l=r[0],s=r[1],c=(0,i.useState)(null),u=(0,a.default)(c,2),d=u[0],h=u[1],p=(0,i.useContext)(O).updateSelectedImage;(0,i.useEffect)((function(){g()}),[]);var g=function(){var e=(0,o.default)((function*(){try{var e=yield w.default.getItem("isLoggedIn"),t=yield w.default.getItem("user");"true"===e&&t&&(s(!0),h(JSON.parse(t)))}catch(n){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0435 \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f:",n)}}));return function(){return e.apply(this,arguments)}}(),m=function(){var e=(0,o.default)((function*(e){s(!0),h(e);try{yield w.default.clear(),yield w.default.setItem("isLoggedIn","true"),yield w.default.setItem("user",JSON.stringify(e))}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0440\u0430 \u043f\u0440\u0438 \u0432\u0445\u043e\u0434\u0435:",t)}}));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=(0,o.default)((function*(){s(!1),h(null),p(null);try{yield w.default.removeItem("isLoggedIn"),yield w.default.removeItem("user"),yield w.default.clear()}catch(e){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0432\u044b\u0445\u043e\u0434\u0435:",e)}}));return function(){return e.apply(this,arguments)}}(),j={isLoggedIn:l,user:d,login:m,logout:y,updateUser:function(e){h(e)}};return(0,f.jsx)(C.Provider,{value:j,children:t})};const k=C;const D=function(e){var t=e.navigation,n=v();return(0,i.useContext)(k).isLoggedIn?(t.navigate("MainAuth"),null):(0,f.jsxs)(c.default,{style:n.container,children:[(0,f.jsx)(g,{}),(0,f.jsx)(c.default,{style:n.headerButton,children:(0,f.jsx)(x,{title:"\u041d\u0430\u0447\u0430\u0442\u044c",onPress:function(){return t.navigate("MainUnauth")}})})]})};function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const B=function(e){return(0,f.jsxs)(d(),M(M({xmlns:"http://www.w3.org/2000/svg",width:72,height:72,fill:"none"},e),{},{children:[(0,f.jsx)(u.Circle,{cx:36,cy:36,r:36,fill:"#0076B9"}),(0,f.jsx)(u.Circle,{cx:36,cy:36,r:36,fill:"#000",fillOpacity:.2}),(0,f.jsx)(u.Path,{fill:"#fff",d:"M15 55.444v-8.5l24.5-23 8.5 8-24.5 23.5H15ZM52 27.944l-8.5-8s2.5-2.5 4.5-3.5 4 0 4 0 4 1.5 4 3.5.5 3 0 4-4 4-4 4Z"}),(0,f.jsx)(u.Path,{stroke:"#fff",strokeWidth:1.9,d:"M15 55.444v-8.5l24.5-23 8.5 8-24.5 23.5H15ZM52 27.944l-8.5-8s2.5-2.5 4.5-3.5 4 0 4 0 4 1.5 4 3.5.5 3 0 4-4 4-4 4Z"})]}))};var R=n(5987),E=n(2102),I=n(5729),z=n(7086);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const A=function(e){return(0,f.jsx)(d(),L(L({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,fill:"none"},e),{},{children:(0,f.jsx)(u.Path,{fill:"#7C858E",d:"M25.253 23.026 32 29.77 29.771 32l-6.745-6.747a14.114 14.114 0 0 1-8.849 3.102C6.351 28.355 0 22.003 0 14.177 0 6.351 6.351 0 14.177 0s14.178 6.351 14.178 14.177a14.114 14.114 0 0 1-3.102 8.849Zm-3.16-1.17a10.99 10.99 0 0 0 3.111-7.679c0-6.093-4.935-11.026-11.027-11.026-6.093 0-11.026 4.933-11.026 11.026 0 6.092 4.933 11.027 11.026 11.027a10.99 10.99 0 0 0 7.68-3.11l.236-.237Z"})}))};function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const U=function(e){return(0,f.jsx)(d(),W(W({xmlns:"http://www.w3.org/2000/svg",width:33,height:33,fill:"none"},e),{},{children:(0,f.jsx)(u.Path,{stroke:"#000",strokeWidth:1.9,d:"m1 1 31 31M1 1v31M1 1h31m0 31H1m31 0V1M1 32 32 1"})}))};var Z=n(1066);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const N=function(e){return(0,f.jsx)(d(),_(_({xmlns:"http://www.w3.org/2000/svg",width:37,height:37,fill:"none"},e),{},{children:(0,f.jsx)(u.Path,{fill:"#fff",d:"M35.303 14.924v6.032H.704v-6.032h34.599ZM21.228.19v36.748h-6.414V.19h6.413Z"})}))};function J(e){var t=e.imageUrl,n=function(e){var t=(0,y.default)(),n=t.width,r=(t.height,e.profile),a=r?.08*n:.025*n,o=r?a:.025*n,i=r?a:.025*n,l=r?a:.08*n,s=r?a:.08*n;return m.default.create({container:{flexDirection:"row"},image:{width:o,height:i,borderRadius:100},round:{padding:5,borderRadius:100,marginRight:10,borderWidth:1,borderColor:"#0076B9"},nonePhoto:{height:s,width:l,backgroundColor:"#D9D9D9",borderRadius:100,justifyContent:"center",alignItems:"center"},info:{marginTop:10,flexDirection:"column"},nickname:{fontSize:20,fontWeight:"bold",marginBottom:5,marginTop:4},dateOfBirth:{fontSize:14,color:"#999999"}})}({profile:e.profile}),r=((0,i.useContext)(O).selectedImage,(0,i.useContext)(k).user);return(0,f.jsx)(c.default,{style:n.container,children:(0,f.jsx)(c.default,{style:n.round,children:function(){if(t&&t.startsWith("data:image"))return(0,f.jsx)(Z.default,{style:n.image,source:{uri:t}});if(t)return(0,f.jsx)(Z.default,{style:n.image,source:{uri:"data:image/jpeg;base64,"+t}});if(r.image){var e="data:image/jpeg;base64,"+r.image;return(0,f.jsx)(Z.default,{style:n.image,source:{uri:e}})}return(0,f.jsx)(c.default,{style:n.nonePhoto,children:(0,f.jsx)(N,{style:{transform:[{scale:.5}]}})})}()})})}function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Y=function(e){return(0,f.jsxs)(d(),$($({xmlns:"http://www.w3.org/2000/svg",width:62,height:63,fill:"none"},e),{},{children:[(0,f.jsx)(u.Circle,{cx:31,cy:31.445,r:30,stroke:"#000",strokeWidth:2}),(0,f.jsx)(u.Path,{stroke:"#000",strokeWidth:2,d:"m16.5 16.944 28.5 28.5m-28.5 0 28.5-28.5"})]}))};function q(e){var t=e.data,n=i.useState(!1),r=(0,a.default)(n,2),o=r[0],l=r[1],s=t.avatarUrl,u=t.username,d=t.onPress,h=t.containerStyle,p=t.main,g=t.id,x=function(){var e=(0,y.default)(),t=e.width,n=e.height;return m.default.create({container:{backgroundColor:"#FFFFFF",borderRadius:26,paddingVertical:12,paddingHorizontal:16},rowContainer:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},avatarContainer:{flexDirection:"row",alignItems:"center"},username:{fontFamily:"Montserrat-Regular",fontSize:Math.min(.012*t,.032*n),fontWeight:"bold",marginLeft:8},channelName:{fontFamily:"Montserrat-Regular",fontSize:Math.min(.012*t,.032*n),fontWeight:"bold"},deleteContainer:{marginLeft:"auto"}})}();return(0,f.jsx)(b.default,{style:[x.container,h,o&&{backgroundColor:"#E7DEDE"}],onPress:d,onMouseEnter:function(){return l(!0)},onMouseLeave:function(){return l(!1)},children:(0,f.jsxs)(c.default,{style:x.rowContainer,children:[s&&(0,f.jsxs)(c.default,{style:x.avatarContainer,children:[(0,f.jsx)(J,{imageUrl:s}),(0,f.jsx)(j.default,{style:x.username,children:u})]}),!s&&(0,f.jsx)(j.default,{style:x.channelName,children:u}),p&&(0,f.jsx)(c.default,{style:[x.deleteContainer,{transform:[{scale:.5}]}],children:(0,f.jsx)(b.default,{onPress:function(){fetch("https://linking-api.onrender.com/api/chats/delete/"+g,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa("admin:root")}}).then((function(e){e.ok?(alert("\u0427\u0430\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0451\u043d"),window.location.reload()):alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0447\u0430\u0442")})).catch((function(e){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0447\u0430\u0442\u0430",e)}))},children:(0,f.jsx)(Y,{})})})]})})}var X=n(6460),K=["value","setValue","navigation","unauth"];function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e){var t=e.value,n=e.setValue,r=(e.navigation,e.unauth),l=(0,R.default)(e,K),s=(0,i.useState)(!1),u=(0,a.default)(s,2),d=u[0],h=u[1],p=(0,i.useState)(!1),g=(0,a.default)(p,2),j=g[0],b=g[1],x=(0,X.useIsFocused)(),v=function(){var e=(0,y.default)(),t=e.width,n=e.height;return m.default.create({container:{flexDirection:"row",justifyContent:"center",alignItems:"center",backgroundColor:"#FFFFFF",width:.4*t,zIndex:0,width:644},icon:{position:"absolute",left:10,zIndex:1,transform:[{scale:.5}]},dismissIcon:{position:"absolute",right:10,top:"50%",transform:[{translateY:-17}],zIndex:2},dropdown:{position:"absolute",top:50,left:0,right:0,flex:1,maxHeight:.3*n,overflowY:"auto",backgroundColor:"#FFFFFF",borderRadius:10,boxShadow:"2px 2px 2px rgba(0, 0, 0, 1)",zIndex:1,padding:10},input:{flex:1,fontFamily:"Montserrat-Regular",height:44,width:.4*t,fontSize:Math.min(.01*t,.03*n),paddingLeft:10,paddingRight:10,borderRadius:10,backgroundColor:"#FFFFFF",color:"#000000",boxShadow:"2px 2px 2px rgba(0, 0, 0, 1)"}})}(),w=(0,X.useNavigation)(),O="admin",P="root",C=(0,i.useState)([]),S=(0,a.default)(C,2),k=S[0],D=S[1],F=(0,i.useState)([]),M=(0,a.default)(F,2),B=M[0],T=M[1],L=function(){var e=(0,o.default)((function*(){try{var e=yield fetch("https://linking-api.onrender.com/api/channels",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa(O+":"+P)}});if(e.ok){for(var t=yield e.json(),n=[],r=[],a=function*(){var e=t[o];n.push({name:e.name,onPress:function(){return t=e.id,void w.navigate("Channel",{channelId:t});var t},avatarUrl:null}),r.push({name:e.name,onPress:function(){return t=e.id,void w.navigate("ChannelUnauth",{channelId:t});var t},avatarUrl:null})},o=0;o<t.length;o++)yield*a();var i=yield fetch("https://linking-api.onrender.com/api/users",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa(O+":"+P)}});if(i.ok)for(var l=yield i.json(),s=function*(){var e=l[c];n.push({name:e.name,onPress:function(){return t=e,void w.navigate("Chat",{chatUser:t});var t},avatarUrl:e.image})},c=0;c<l.length;c++)yield*s();else alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0434\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430");D(n),T(r)}else alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0434\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430")}catch(u){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0434\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430",u)}}));return function(){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){x&&d&&L()}),[x]);var V=t?(r?B:k).filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})):r?B:k;return(0,f.jsxs)(c.default,{style:v.container,children:[(0,f.jsx)(c.default,{style:v.icon,children:(0,f.jsx)(A,{})}),(0,f.jsx)(E.default,ee(ee({},l),{},{placeholderTextColor:"#7C858E",value:t,style:[v.input,{paddingLeft:36}],onFocus:function(){h(!0),b(!0),L()},onChangeText:function(e){return n(e)}})),d&&(0,f.jsx)(I.default,{onPressIn:function(){n(""),h(!1),b(!1)},children:(0,f.jsx)(U,{style:v.dismissIcon})}),j&&(0,f.jsx)(z.default,{style:v.dropdown,children:V.map((function(e,t){return(0,f.jsx)(q,{data:{avatarUrl:e.avatarUrl,username:e.name,onPress:e.onPress}},t)}))})]})}function ne(e){var t=e.navigation,n=v();return(0,f.jsxs)(c.default,{style:n.containerMain,children:[(0,f.jsx)(c.default,{style:n.messageContainer,children:(0,f.jsx)(j.default,{style:n.text,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0447\u0430\u0442\u044c \u043e\u0431\u0449\u0430\u0442\u044c\u0441\u044f"})}),(0,f.jsx)(c.default,{style:n.bottomLeft,children:(0,f.jsx)(b.default,{onPress:function(){return t.navigate("Auth")},children:(0,f.jsx)(B,{})})})]})}var re=["value","setValue","type","flex"];function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ie(e){var t,n=e.value,r=e.setValue,a=e.type,o=e.flex,i=(0,R.default)(e,re),l=function(){var e=(0,y.default)(),t=e.width,n=e.height;return m.default.create({container:{flexDirection:"row",justifyContent:"center",alignItems:"center",backgroundColor:"#FFFFFF",borderRadius:10},input:{flex:1,fontFamily:"Montserrat-Regular",height:Math.min(.03*t,.055*n),fontSize:Math.min(.01*t,.03*n),paddingLeft:40,borderRadius:10,backgroundColor:"#FFFFFF",color:"#000000",boxShadow:"2px 2px 2px rgba(0, 0, 0, 1)",width:"80%"}})}();switch(a){case"password":t={secureTextEntry:!0,autoCompleteType:"password",maxLength:26};break;case"nickname":t={maxLength:10};break;case"email":t={autoCompleteType:"email",keyboardType:"email-address",maxLength:55};break;case"code":t={keyboardType:"number-pad",maxLength:4};break;default:t={}}var s=o?"90%":600;return(0,f.jsx)(c.default,{style:[l.container,{width:s,height:44}],children:(0,f.jsx)(E.default,oe(oe(oe({},i),t),{},{placeholderTextColor:"#7C858E",value:n,style:[l.input,{paddingLeft:21}],onChangeText:function(e){return r(e)}}))})}function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ce=function(e){var t=e.navigation,n=v(),r=(0,i.useState)({password:"",email:""}),o=(0,a.default)(r,2),l=o[0],s=o[1],u=l.email&&l.password,d=(0,i.useContext)(k).login;return(0,f.jsx)(c.default,{style:n.containerMain,children:(0,f.jsxs)(c.default,{style:n.textContainer,children:[(0,f.jsxs)(c.default,{style:n.inputContainer,children:[(0,f.jsx)(c.default,{style:{marginBottom:13},children:(0,f.jsx)(ie,{value:l.email,setValue:function(e){return s(se(se({},l),{},{email:e}))},placeholder:"\u041f\u043e\u0447\u0442\u0430",type:"email",flex:!1})}),(0,f.jsx)(c.default,{style:{marginBottom:13},children:(0,f.jsx)(ie,{value:l.password,setValue:function(e){return s(se(se({},l),{},{password:e}))},placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",flex:!1})})]}),(0,f.jsxs)(c.default,{style:{marginTop:13,marginRight:13},children:[(0,f.jsx)(b.default,{onPress:function(){return t.navigate("Forgot")},children:(0,f.jsx)(j.default,{style:{fontFamily:"Montserrat-Regular"},children:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"})}),(0,f.jsx)(c.default,{style:{borderBottomWidth:1,borderBottomColor:"black",width:"100%"}})]}),(0,f.jsx)(c.default,{children:(0,f.jsx)(x,{title:"\u0412\u043e\u0439\u0442\u0438",onPress:function(){if(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(l.email)){var e={email:l.email,password:l.password};fetch("https://linking-api.onrender.com/api/login",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa("admin:root")},body:JSON.stringify(e)}).then((function(e){e.ok?e.json().then((function(e){d(e)})):e.json().then((function(e){var t=e.message||"Login failed";alert(t)}))})).catch((function(e){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443",e)}))}else alert("\u041d\u0435 \u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u043f\u043e\u0447\u0442\u044b")},disabled:!u})}),(0,f.jsx)(c.default,{style:{marginBottom:13},children:(0,f.jsx)(x,{title:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",onPress:function(){return t.navigate("Reg")}})})]})})};function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const fe=function(e){var t=e.navigation,n=v(),r=(0,i.useState)({name:"",email:"",password:""}),o=(0,a.default)(r,2),l=o[0],s=o[1],u=l.name&&l.password&&l.email;return(0,f.jsx)(c.default,{style:n.containerMain,children:(0,f.jsxs)(c.default,{style:n.textContainer,children:[(0,f.jsxs)(c.default,{style:n.inputContainer,children:[(0,f.jsx)(c.default,{style:{marginBottom:13},children:(0,f.jsx)(ie,{value:l.name,setValue:function(e){return s(de(de({},l),{},{name:e}))},placeholder:"\u041d\u0438\u043a\u043d\u0435\u0439\u043c",type:"nickname",flex:!1})}),(0,f.jsx)(c.default,{style:{marginBottom:13},children:(0,f.jsx)(ie,{value:l.email,setValue:function(e){return s(de(de({},l),{},{email:e}))},placeholder:"\u041f\u043e\u0447\u0442\u0430",type:"email",flex:!1})}),(0,f.jsx)(c.default,{style:{marginBottom:13},children:(0,f.jsx)(ie,{value:l.password,setValue:function(e){return s(de(de({},l),{},{password:e}))},placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",flex:!1})})]}),(0,f.jsx)(c.default,{children:(0,f.jsx)(x,{title:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",onPress:function(){if(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(l.email)){if(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$/.test(l.password)){var e={name:l.name,email:l.email,password:l.password};fetch("https://linking-api.onrender.com/api/register",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa("admin:root")},body:JSON.stringify(e)}).then((function(e){e.ok?t.navigate("Auth"):e.json().then((function(e){var t=e.message;alert(t)}))})).catch((function(e){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0438 \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443",e)}))}else alert("\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u043f\u0430\u0440\u043e\u043b\u044f: \u043c\u0438\u043d\u0438\u043c\u0443\u043c 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 \u0432 \u0434\u043b\u0438\u043d\u0443, \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u043e\u0434\u043d\u0443 \u0437\u0430\u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0438 \u0441\u0442\u0440\u043e\u0447\u043d\u0443\u044e \u0431\u0443\u043a\u0432\u0443, \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u043e\u0434\u043d\u0443 \u0446\u0438\u0444\u0440\u0443, \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0439 \u0441\u0438\u043c\u0432\u043e\u043b\u044b( !@#$%^&*)")}else alert("\u041d\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u043f\u043e\u0447\u0442\u044b")},disabled:!u})})]})})};function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ge=function(e){var t=e.navigation,n=v(),r=(0,i.useState)({newPassword:"",email:"",confirmPassword:"",code:""}),l=(0,a.default)(r,2),s=l[0],u=l[1],d="admin",h="root",p=(0,i.useState)(""),g=(0,a.default)(p,2),m=g[0],y=g[1],j=function(){var e=(0,o.default)((function*(e){try{var t=yield fetch("https://linking-api.onrender.com/api/users/email?email="+e,{headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa(d+":"+h)}});if(t.ok)return yield t.json();alert("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u043e\u0439 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d")}catch(n){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0438 \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443",n)}}));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=(0,o.default)((function*(e){try{var t=new URLSearchParams({new_password:s.newPassword}),n=yield fetch("https://linking-api.onrender.com/api/users/"+e+"/update/password?"+t.toString(),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa(d+":"+h)},body:JSON.stringify({new_password:s.newPassword})});n.ok||n.json().then((function(e){var t=e.message;alert(t)}))}catch(r){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0438 \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443",r)}}));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=(0,o.default)((function*(){if(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$/.test(s.newPassword))try{var e=yield j(s.email);e?(yield b(e),alert("\u041f\u0430\u0440\u043e\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d")):alert("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u043e\u0439 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"),t.navigate("Auth")}catch(n){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0438 \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443:",n)}else alert("\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u043f\u0430\u0440\u043e\u043b\u044f: \u043c\u0438\u043d\u0438\u043c\u0443\u043c 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 \u0432 \u0434\u043b\u0438\u043d\u0443, \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u043e\u0434\u043d\u0443 \u0437\u0430\u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0438 \u0441\u0442\u0440\u043e\u0447\u043d\u0443\u044e \u0431\u0443\u043a\u0432\u0443, \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u043e\u0434\u043d\u0443 \u0446\u0438\u0444\u0440\u0443, \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0439 \u0441\u0438\u043c\u0432\u043e\u043b\u044b( !@#$%^&*)")}));return function(){return e.apply(this,arguments)}}();return(0,f.jsx)(c.default,{style:n.containerMain,children:(0,f.jsxs)(c.default,{style:n.textContainer,children:[(0,f.jsxs)(c.default,{style:n.inputContainer,children:[(0,f.jsx)(c.default,{style:{marginBottom:13},children:(0,f.jsx)(ie,{value:s.email,setValue:function(e){return u(pe(pe({},s),{},{email:e}))},placeholder:"\u041f\u043e\u0447\u0442\u0430",type:"email",flex:!1})}),(0,f.jsx)(c.default,{style:{marginBottom:13},children:(0,f.jsx)(ie,{value:s.newPassword,setValue:function(e){return u(pe(pe({},s),{},{newPassword:e}))},placeholder:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",type:"password",flex:!1})}),(0,f.jsx)(c.default,{style:{marginBottom:13},children:(0,f.jsx)(ie,{value:s.confirmPassword,setValue:function(e){return u(pe(pe({},s),{},{confirmPassword:e}))},placeholder:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c",type:"password",flex:!1})}),(0,f.jsx)(c.default,{style:{marginBottom:13},children:(0,f.jsx)(ie,{value:s.code,setValue:function(e){return u(pe(pe({},s),{},{code:e}))},placeholder:"\u041a\u043e\u0434",type:"code",flex:!1})})]}),(0,f.jsx)(c.default,{children:(0,f.jsx)(x,{title:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c",onPress:w,disabled:!s.newPassword||!s.email||!s.confirmPassword||!s.code||s.newPassword!==s.confirmPassword||s.code!=m})}),(0,f.jsx)(c.default,{style:{marginBottom:13},children:(0,f.jsx)(x,{title:"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043a\u043e\u0434",onPress:function(){if(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(s.email)){var e=encodeURIComponent(s.email);fetch("https://linking-api.onrender.com/api/send_email?email="+e,{method:"GET",headers:{Authorization:"Basic "+btoa(d+":"+h)}}).then((function(e){return e.json()})).then((function(e){y(e),e?alert("\u041a\u043e\u0434 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f \u0431\u044b\u043b \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u043d\u0430 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u0443\u044e \u043f\u043e\u0447\u0442\u0443!"):alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u0434 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f")})).catch((function(e){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0438 \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443",e)}))}else alert("\u041d\u0435 \u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u043f\u043e\u0447\u0442\u044b")},disabled:!s.email})})]})})};function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const je=function(e){return(0,f.jsxs)(d(),ye(ye({xmlns:"http://www.w3.org/2000/svg",width:70,height:70,fill:"none"},e),{},{children:[(0,f.jsx)(u.Path,{fill:"#0076B9",d:"M54.06 50.77a2.655 2.655 0 1 1 4.468-2.846l10.958 20.058a1.117 1.117 0 0 1-1.88 1.198L54.06 50.77Z"}),(0,f.jsx)(u.Path,{fill:"#000",fillOpacity:.2,d:"M54.06 50.77a2.655 2.655 0 1 1 4.468-2.846l10.958 20.058a1.117 1.117 0 0 1-1.88 1.198L54.06 50.77Z"}),(0,f.jsx)(u.Path,{fill:"#0076B9",d:"M59.711 52.364c-3.608 6.062-8.927 10.773-15.205 13.468a30.717 30.717 0 0 1-19.786 1.55c-6.586-1.687-12.504-5.518-16.918-10.952C3.387 50.997.7 44.235.119 37.1c-.58-7.134.974-14.282 4.445-20.432 3.472-6.15 8.683-10.993 14.9-13.844C25.681-.026 32.588-.74 39.21.781c6.622 1.521 12.624 5.203 17.158 10.525l-5.751 5.473c-3.45-4.048-8.015-6.849-13.052-8.007a23.38 23.38 0 0 0-15.02 1.555c-4.729 2.169-8.693 5.852-11.334 10.53-2.64 4.679-3.823 10.115-3.38 15.543.441 5.427 2.485 10.57 5.843 14.703 3.358 4.133 7.86 7.047 12.87 8.33a23.364 23.364 0 0 0 15.05-1.18c4.775-2.049 8.821-5.632 11.565-10.243l6.552 4.354Z"}),(0,f.jsx)(u.Path,{fill:"#000",fillOpacity:.2,d:"M59.711 52.364c-3.608 6.062-8.927 10.773-15.205 13.468a30.717 30.717 0 0 1-19.786 1.55c-6.586-1.687-12.504-5.518-16.918-10.952C3.387 50.997.7 44.235.119 37.1c-.58-7.134.974-14.282 4.445-20.432 3.472-6.15 8.683-10.993 14.9-13.844C25.681-.026 32.588-.74 39.21.781c6.622 1.521 12.624 5.203 17.158 10.525l-5.751 5.473c-3.45-4.048-8.015-6.849-13.052-8.007a23.38 23.38 0 0 0-15.02 1.555c-4.729 2.169-8.693 5.852-11.334 10.53-2.64 4.679-3.823 10.115-3.38 15.543.441 5.427 2.485 10.57 5.843 14.703 3.358 4.133 7.86 7.047 12.87 8.33a23.364 23.364 0 0 0 15.05-1.18c4.775-2.049 8.821-5.632 11.565-10.243l6.552 4.354Z"})]}))};var be=n(6459),xe=n(4710);function ve(){var e=(0,y.default)(),t=e.width,n=e.height;return m.default.create({container:{flex:1,backgroundColor:"#FFFFFF",justifyContent:"center",alignItems:"center"},headerButton:{marginTop:30},channNameContainer:{flexDirection:"row",justifyContent:"center",alignItems:"center",top:80,paddingLeft:10,overflow:"hidden",position:"absolute"},dataInputContainer:{marginRight:10},nicknameContainer:{flexDirection:"row",alignItems:"center",marginBottom:13},containerMain:{flex:1,backgroundColor:"rgba(0, 118, 185, 0.35)",justifyContent:"center",alignItems:"center"},containerSettings:{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center",backgroundColor:"rgba(0, 118, 185, 0.35)"},bottomLeft:{position:"absolute",bottom:20,left:20},topLeft:{position:"absolute",top:20,left:20},textContainer:{backgroundColor:"#FFFFFF",borderRadius:35,padding:30,shadowColor:"#000",shadowOffset:{width:2,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:7,position:"absolute",top:"30%",alignSelf:"auto",alignItems:"center",justifyContent:"center"},messageContainer:{backgroundColor:"#FFFFFF",borderRadius:35,width:"30%",height:"40%",overflow:"hidden",position:"absolute",top:40,right:80,shadowColor:"#000",shadowOffset:{width:2,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:7},barContainer:{backgroundColor:"#FFFFFF",borderRadius:35,width:"50%",overflow:"hidden",position:"absolute",top:40,right:80,shadowColor:"#000",shadowOffset:{width:2,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:7},barChanContainer:{backgroundColor:"#FFFFFF",borderRadius:35,width:"50%",overflow:"hidden",position:"absolute",top:40,right:80,shadowColor:"#000",shadowOffset:{width:2,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:7,flexDirection:"row",justifyContent:"space-between",alignItems:"center"},barText:{fontFamily:"Montserrat-Regular",fontSize:Math.min(.012*t,.032*n),paddingLeft:20},settingsContainer:{alignItems:"center",backgroundColor:"#FFFFFF",borderRadius:35,padding:20,shadowColor:"#000",shadowOffset:{width:2,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:7,backgroundColor:"#FFFFFF",borderRadius:35,width:"30%",height:"40%",overflow:"hidden",position:"absolute"},sendContainer:{width:.4*t,height:.1*n,position:"absolute",bottom:0,right:.1*t,marginTop:50},forwardContainer:{backgroundColor:"#FFFFFF",padding:10,borderRadius:25,width:"35%",height:"45%",overflow:"hidden",position:"absolute",bottom:40,right:80,shadowColor:"#000",shadowOffset:{width:2,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:7},historyContainer:{backgroundColor:"#FFFFFF",padding:10,borderRadius:15,marginTop:30,width:"35%",height:"70%",overflow:"hidden",position:"absolute",top:"50%",right:.1*t,transform:[{translateY:"-50%"}],shadowColor:"#000",shadowOffset:{width:2,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:7},profileContainer:{backgroundColor:"#FFFFFF",borderRadius:35,width:.2*t,height:.5*n,overflow:"hidden",position:"absolute",top:40,left:80,shadowColor:"#000",shadowOffset:{width:2,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:7,alignItems:"center",justifyContent:"center",paddingVertical:60},profileSettingsContainer:{backgroundColor:"#FFFFFF",borderRadius:35,width:.24*t,height:.6*n,overflow:"hidden",position:"absolute",shadowColor:"#000",shadowOffset:{width:2,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:7,alignItems:"center",justifyContent:"center",paddingTop:30,paddingBottom:30,alignSelf:"stretch",marginTop:"auto",marginBottom:"auto",left:"50%",top:"50%",transform:[{translateX:"-50%"},{translateY:"-50%"}]},popupContainer:{backgroundColor:"#E7DEDE",borderRadius:35,padding:20,shadowColor:"#000",shadowOffset:{width:2,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:7,position:"absolute",top:"50%",left:"50%",transform:[{translateX:"-50%"},{translateY:"-50%"}],width:"20%",height:"20%",justifyContent:"center",alignItems:"center",flexDirection:"column"},text:{fontFamily:"Montserrat-Regular",color:"#000000",fontSize:Math.min(.012*t,.032*n),textAlign:"center",marginBottom:13},inputContainer:{width:"80%",alignItems:"center",justifyContent:"flex-start",paddingTop:20}})}function we(e){var t=e.data,n=t.onPress,r=t.text,a=function(){var e=(0,y.default)(),t=e.width,n=e.height;return m.default.create({button:{borderTopWidth:1,borderBottomWidth:1,borderColor:"#000000",paddingHorizontal:10,paddingVertical:15,width:.15*t,paddingHorizontal:15},text:{fontFamily:"Montserrat-Regular",fontSize:Math.min(.02*t,.045*n),color:"#000000",textAlign:"center"}})}();return(0,f.jsx)(b.default,{style:a.button,onPress:n,children:(0,f.jsx)(j.default,{style:a.text,children:r})})}const Oe=function(e){var t=e.data,n=t.imageUrl,r=t.nickname,o=t.message,l=t.own,s=t.from,u=t.id,d=function(){var e=(0,y.default)(),t=e.width,n=e.height;return m.default.create({container:{flexDirection:"row",alignItems:"flex-end"},avatar:{alignSelf:"flex-start"},messageBox:{marginLeft:15,flex:1,backgroundColor:"#E7DEDE",borderLeftWidth:5,borderLeftColor:"#0076B9",paddingVertical:10,paddingHorizontal:15,marginBottom:10,maxWidth:"40%",borderTopRightRadius:10,borderBottomRightRadius:10},ownMessageBox:{backgroundColor:"rgba(0, 118, 185, 0.35)",borderLeftColor:"#0076B9",borderLeftWidth:5,marginLeft:15,flex:1,paddingVertical:10,paddingHorizontal:15,marginBottom:10,maxWidth:"40%",borderTopRightRadius:10,borderBottomRightRadius:10},nickname:{fontSize:Math.min(.012*t,.032*n),fontFamily:"Montserrat-Regular",color:"black",fontWeight:"bold",marginBottom:5},ownNickname:{fontSize:Math.min(.012*t,.032*n),fontFamily:"Montserrat-Regular",color:"black",fontWeight:"bold",marginBottom:5},message:{fontSize:Math.min(.01*t,.03*n),fontFamily:"Montserrat-Regular",color:"black",flexWrap:"wrap",marginBottom:10},ownMessage:{fontSize:Math.min(.01*t,.03*n),fontFamily:"Montserrat-Regular",color:"black",flexWrap:"wrap",marginBottom:10},bubbleTail:{position:"absolute",bottom:0,left:-14,width:5,height:0,borderStyle:"solid",borderTopWidth:10,borderRightWidth:0,borderBottomWidth:0,borderLeftWidth:10,borderTopColor:"#0076B9",borderBottomColor:"transparent",borderRightColor:"transparent",borderLeftColor:"transparent",transform:[{rotate:"90deg"}]}})}(),h=(0,i.useState)(!1),p=(0,a.default)(h,2),g=p[0],b=p[1],x=(0,i.useContext)(k).user,v=(0,y.default)(),w=v.width,O=v.height;return(0,f.jsxs)(c.default,{style:d.container,children:[l?null:(0,f.jsx)(J,{imageUrl:n,profile:!1,style:d.avatar}),(0,f.jsxs)(I.default,{style:[d.messageBox,l&&d.ownMessageBox],onPress:function(){b(!g)},children:[g&&(0,f.jsx)(I.default,{onPress:function(){var e=x.id;fetch("https://linking-api.onrender.com/api/saved_message/delete?user_id="+e+"&message_id="+u,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa("admin:root")}}).then((function(e){e.ok?window.location.reload():alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435")})).catch((function(e){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",e)}))},children:(0,f.jsx)(j.default,{style:{fontFamily:"Montserrat-Italic"},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})}),(0,f.jsx)(j.default,{style:[d.nickname,l&&d.ownNickname],children:r}),(0,f.jsx)(j.default,{style:[d.message,l&&d.ownMessage],children:o}),(0,f.jsxs)(j.default,{style:{fontFamily:"Montserrat-Italic",fontSize:Math.min(.008*w,.025*O)},children:["Forwarded from: ",s]}),!l&&(0,f.jsx)(c.default,{style:d.bubbleTail})]})]})};function Pe(){return(Pe=(0,o.default)((function*(e){try{yield w.default.setItem("profile_nickname",e)}catch(t){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u043d\u0438\u043a\u043d\u0435\u0439\u043c\u0430:",t)}}))).apply(this,arguments)}function Ce(){return Se.apply(this,arguments)}function Se(){return(Se=(0,o.default)((function*(){try{return yield w.default.getItem("profile_nickname")}catch(e){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0434\u0433\u0440\u0443\u0437\u043a\u0435 \u043d\u0438\u043a\u043d\u0435\u0439\u043c\u0430:",e),null}}))).apply(this,arguments)}function ke(){return(ke=(0,o.default)((function*(e){try{yield w.default.setItem("profile_email",e)}catch(t){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u043f\u043e\u0447\u0442\u044b:",t)}}))).apply(this,arguments)}function De(){return(De=(0,o.default)((function*(){try{return yield w.default.getItem("profile_email")}catch(e){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0434\u0433\u0440\u0443\u0437\u043a\u0435 \u043f\u043e\u0447\u0442\u044b:",e),null}}))).apply(this,arguments)}function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Be(e){var t,n,r=e.navigation,l=ve(),s=(0,i.useState)(!1),u=(0,a.default)(s,2),d=u[0],h=u[1],p=(0,i.useState)({nickname:""}),g=(0,a.default)(p,2),m=g[0],v=g[1],w=(0,i.useContext)(k),P=w.user,C=w.updateUser,S=w.logout,D=(0,i.useState)(""),F=(0,a.default)(D,2),M=F[0],R=F[1],E="admin",I="root",T=(0,i.useCallback)((function(e){return C(e)}),[C]),L=(0,i.useContext)(O).selectedImage,A=(0,y.default)(),V=A.width,W=A.height;(0,X.useFocusEffect)(i.useCallback((function(){U(),Z()}),[]));var U=function(){var e=(0,o.default)((function*(){try{var e=yield fetch("https://linking-api.onrender.com/api/users/"+P.id,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa(E+":"+I)}});if(e.ok){var t=yield e.json();T(t)}else console.log("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u0434\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f")}catch(n){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0438 \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443",n)}}));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=(0,o.default)((function*(){try{var e=yield Ce();e&&e!==M&&R(e)}catch(t){}}));return function(){return e.apply(this,arguments)}}(),H=function(){var e=(0,o.default)((function*(){try{(yield fetch("https://linking-api.onrender.com/api/saved_message/delete_all?user_id="+(null==P?void 0:P.id),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa(E+":"+I)}})).ok?(console.log("\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u044b!"),window.location.reload()):console.log("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f!")}catch(e){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0438 \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443",e)}}));return function(){return e.apply(this,arguments)}}(),_=m.nickname,N=[{onPress:function(e){return(0,be.default)(e),r.navigate("Profile")},text:"\u041c\u043e\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"},{onPress:function(){S(),window.location.reload()},text:"\u0412\u044b\u0439\u0442\u0438"}],G=function(){var e=(0,o.default)((function*(){try{(yield fetch("https://linking-api.onrender.com/api/channels/create",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa(E+":"+I)},body:JSON.stringify({username:P.name,channelName:m.nickname})})).ok?(h(!1),alert("\u041a\u0430\u043d\u0430\u043b \u0441\u043e\u0437\u0434\u0430\u043d"),window.location.reload()):alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u0430\u043d\u0430\u043b")}catch(e){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0438 \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443",e)}}));return function(){return e.apply(this,arguments)}}();return(0,f.jsxs)(c.default,{style:l.containerMain,children:[(0,f.jsx)(c.default,{style:l.messageContainer,children:(0,f.jsxs)(z.default,{style:{flex:1,scrollbarWidth:0,flexDirection:"column"},children:[P.channels.map((function(e){return(0,f.jsx)(q,{data:{username:e.name,onPress:function(){return r.navigate("Channel",{channelId:e.id})}}},e.id)})),P.chats.map((function(e){return e.recipient.name===P.name?(0,f.jsx)(q,{data:{avatarUrl:e.sender.image,username:e.sender.name,onPress:function(){return r.navigate("Chat",{chatUser:e.sender})},main:!0,id:e.id}},e.id):(0,f.jsx)(q,{data:{avatarUrl:e.recipient.image,username:e.recipient.name,onPress:function(){return r.navigate("Chat",{chatUser:e.recipient})},main:!0,id:e.id}},e.id)}))]})}),(0,f.jsxs)(c.default,{style:l.profileContainer,children:[(0,f.jsx)(J,{imageUrl:L,profile:!0}),(0,f.jsx)(j.default,{style:{color:"#000000",fontSize:Math.min(.03*V,.055*W),textAlign:"center",marginBottom:13,fontFamily:"Montserrat-Regular"},children:M||P.name}),N.map((function(e,t){return(0,f.jsx)(c.default,{style:{width:"70%"},children:(0,f.jsx)(we,{data:e})},t)}))]}),(0,f.jsxs)(c.default,{style:l.forwardContainer,children:[(null==P||null==(t=P.savedMessages)?void 0:t.length)>0&&(0,f.jsx)(c.default,{style:{right:50,position:"absolute",zIndex:1},children:(0,f.jsx)(b.default,{onPress:H,children:(0,f.jsx)(Y,{})})}),(0,f.jsx)(z.default,{style:{flex:1,scrollbarWidth:0,flexDirection:"column"},children:null==P||null==(n=P.savedMessages)?void 0:n.map((function(e){var t,n,r,a;return(0,f.jsx)(c.default,{style:{marginBottom:13},children:(0,f.jsx)(Oe,{data:{imageUrl:null==(t=e.sender)?void 0:t.image,nickname:null==(n=e.sender)?void 0:n.name,message:e.data,own:(null==(r=e.sender)?void 0:r.name)===P.name,from:e.chat?(null==(a=e.chat.sender)?void 0:a.name)===P.name?e.chat.recipient.name:e.chat.sender.name:e.channel.name,id:e.id}},e.id)})}))})]}),(0,f.jsx)(c.default,{style:l.bottomLeft,children:(0,f.jsx)(b.default,{onPress:function(){return h(!0)},children:(0,f.jsx)(B,{})})}),(0,f.jsx)(xe.default,{visible:d,transparent:!0,children:(0,f.jsxs)(c.default,{style:l.popupContainer,children:[(0,f.jsx)(j.default,{style:l.text,children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u043d\u0430\u043b\u0430"}),(0,f.jsx)(c.default,{style:{marginBottom:13,alignItems:"center"},children:(0,f.jsx)(ie,{value:m.nickname,setValue:function(e){return v(Me(Me({},m),{},{nickname:e}))},placeholder:"",type:"nickname",flex:!0})}),(0,f.jsx)(b.default,{onPress:function(){return h(!1)},children:(0,f.jsx)(x,{title:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",onPress:G,disabled:!_})})]})})]})}function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Ie=function(e){return(0,f.jsxs)(d(),Ee(Ee({xmlns:"http://www.w3.org/2000/svg",width:50,height:50,fill:"none"},e),{},{children:[(0,f.jsxs)(u.G,{clipPath:"url(#a)",children:[(0,f.jsx)(u.Circle,{cx:25,cy:25,r:25,fill:"#00F"}),(0,f.jsx)(u.Path,{fill:"#fff",d:"M24.846 22.692A4.161 4.161 0 0 1 29 26.846v.004a4.154 4.154 0 1 1-7.09-2.939 3.986 3.986 0 0 1 2.876-1.22h.063-.003v.001Zm10.154-6h.055c1.002 0 1.908.414 2.554 1.081l.001.001a3.547 3.547 0 0 1 1.082 2.555v.058-.003 12.924A3.693 3.693 0 0 1 35 37H14.692A3.693 3.693 0 0 1 11 33.308V20.33c0-1.002.414-1.908 1.081-2.554l.001-.001a3.547 3.547 0 0 1 2.555-1.082h.058-.003 3.23l.735-1.962c.212-.507.557-.922.993-1.213l.01-.006A2.55 2.55 0 0 1 21.15 13h7.387c.542.01 1.067.19 1.499.517l-.006-.005c.445.297.791.712.996 1.201l.007.018.735 1.962L35 16.692ZM24.846 33.308l.091.001a6.206 6.206 0 0 0 4.472-1.896l.002-.002a6.205 6.205 0 0 0 1.897-4.474l-.001-.096v.005l.001-.092a6.206 6.206 0 0 0-1.896-4.472l-.002-.002a6.421 6.421 0 0 0-4.565-1.897 6.424 6.424 0 0 0-4.565 1.896 6.206 6.206 0 0 0-1.896 4.57v-.005l-.001.094c0 1.755.726 3.34 1.894 4.471l.002.002a6.205 6.205 0 0 0 4.474 1.897l.097-.001h-.005l.001.001Z"})]}),(0,f.jsx)(u.Defs,{children:(0,f.jsx)(u.ClipPath,{id:"a",children:(0,f.jsx)(u.Path,{fill:"#fff",d:"M0 0h50v50H0z"})})})]}))};var ze=n(9108),Te=n(5211);function Le(e){var t=e.placeholderImageSource,n=e.selectedImage,r=e.isAvatar,a=function(){var e=(0,y.default)();return e.width,e.height,m.default.create({Avatarimage:{width:139,height:139,borderRadius:100}})}(),o=null!==n?{uri:n}:t;return(0,f.jsx)(Te.Image,{source:o,style:r&&a.Avatarimage})}var Ae=n(8113),Ve=["children"];function We(e){e.children,(0,R.default)(e,Ve);var t=(0,i.useContext)(O).updateSelectedImage,n=function(){var e=(0,y.default)(),t=e.width,n=(e.height,.08*t),r=.08*t;return m.default.create({container:{flex:1,justifyContent:"center",flexDirection:"row"},round:{padding:5,borderRadius:100,marginRight:10,borderWidth:1,borderColor:"#0076B9"},nonePhoto:{height:r,width:n,backgroundColor:"#D9D9D9",borderRadius:100,justifyContent:"center",alignItems:"center"}})}(),r=(0,i.useState)(null),l=(0,a.default)(r,2),s=(l[0],l[1]),u=(0,i.useState)(null),d=(0,a.default)(u,2),h=d[0],p=d[1],g=(0,i.useContext)(k),j=g.user;g.updateUser;(0,i.useEffect)((function(){(0,o.default)((function*(){var e=yield ze.requestMediaLibraryPermissionsAsync();s("granted"===e.status)}))()}));var b=function(){var e=(0,o.default)((function*(){var e=yield ze.launchImageLibraryAsync({allowsEditing:!0,quality:1});e.canceled||x(e)}));return function(){return e.apply(this,arguments)}}(),x=function(){var e=(0,o.default)((function*(e){var n=new FormData,r=yield fetch(e.uri),a=yield r.blob();n.append("file",a,"file.jpg");var o="https://linking-api.onrender.com/api/users/"+(null==j?void 0:j.id)+"/update/image";try{var i=yield Ae.default.put(o,n,{headers:{"Content-Type":"multipart/form-data",Authorization:"Basic "+btoa("admin:root")}});200!==i.status&&201!==i.status||(p(e.uri),t(e.uri))}catch(l){l.response&&l.response.data&&l.response.data.message&&alert("\u041e\u0448\u0438\u0431\u043a\u0430 "+l.response.data.message)}}));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,o.default)((function*(){if(!1!==(yield ze.requestCameraPermissionsAsync()).granted){var e=yield ze.launchCameraAsync();e.canceled||(p(e.assets[0].uri),x(e.assets[0]))}}));return function(){return e.apply(this,arguments)}}();return(0,f.jsx)(c.default,{style:n.container,children:(0,f.jsxs)(c.default,{style:n.round,children:[(0,f.jsxs)(I.default,{onPress:b,children:[!h&&(0,f.jsx)(c.default,{style:n.nonePhoto,children:(0,f.jsx)(N,{})}),h&&(0,f.jsx)(Le,{isAvatar:!0,selectedImage:h})]}),(0,f.jsx)(c.default,{style:{position:"absolute",bottom:0,right:0},children:(0,f.jsx)(I.default,{onPress:v,children:(0,f.jsx)(Ie,{})})})]})})}function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const He=function(e){return(0,f.jsxs)(d(),Ze(Ze({xmlns:"http://www.w3.org/2000/svg",width:104,height:105,fill:"none"},e),{},{children:[(0,f.jsx)(u.G,{filter:"url(#a)",children:(0,f.jsx)(u.Rect,{width:96,height:96,x:4,y:.444,fill:"#fff",rx:12})}),(0,f.jsx)(u.Path,{stroke:"#000",strokeLinecap:"round",strokeWidth:3,d:"M39.5 15.444 18 36.944m0 0 21.5 21.5M18 36.944h52.5c18 0 14.5 21.5 14.5 21.5s2 22-14.5 22H18"}),(0,f.jsx)(u.Defs,{})]}))};function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Je=function(e){return(0,f.jsx)(d(),Ne(Ne({xmlns:"http://www.w3.org/2000/svg",width:48,height:48,fill:"none"},e),{},{children:(0,f.jsx)(u.Path,{stroke:"#000",strokeWidth:1.9,d:"M2 24h43.84M2 24l21.92 21.92M2 24 23.92 2.08M45.84 24 23.92 45.92M45.84 24 23.92 2.08m0 43.84V2.08"})}))};var Ge=["value","setValue","flex"];function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qe(e){var t,n=e.value,r=e.setValue,a=e.flex,o=(0,R.default)(e,Ge),i=function(){var e=(0,y.default)(),t=e.width,n=e.height;return m.default.create({container:{justifyContent:"center",alignItems:"center",backgroundColor:"#FFFFFF"},input:{flex:1,height:Math.min(.03*t,.055*n),fontFamily:"Montserrat-Regular",fontSize:Math.min(.03*t,.055*n),paddingLeft:"5%",backgroundColor:"#FFFFFF",color:"#000000",width:"70%"}})}(),l=(0,y.default)(),s=l.width,u=l.height;t={maxLength:10};var d=a?"20%":.2*s,h=a?44:.06*u;return(0,f.jsx)(c.default,{style:[i.container,{width:d,height:h}],children:(0,f.jsx)(E.default,Ye(Ye(Ye({},o),t),{},{maxLength:10,placeholderTextColor:"#7C858E",value:n,style:[i.input,{paddingLeft:.5*h}],onChangeText:function(e){return r(e)}}))})}function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qe(e){var t=e.navigation,n=ve(),r=(0,i.useContext)(O).selectedImage,l=(0,i.useContext)(k).user,s=(0,i.useState)({name:(null==l?void 0:l.name)||""}),u=(0,a.default)(s,2),d=u[0],h=u[1],p=(0,y.default)(),g=p.width,m=p.height,v=(0,i.useState)(""),P=(0,a.default)(v,2),C=P[0],S=P[1];(0,X.useFocusEffect)(i.useCallback((function(){D()}),[l]));var D=function(){var e=(0,o.default)((function*(){try{var e=yield function(){return De.apply(this,arguments)}();e&&e!==C?S(e):e||C||S((null==l?void 0:l.email)||"")}catch(t){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0434\u0433\u0440\u0443\u0437\u043a\u0435 \u043f\u043e\u0447\u0442\u044b:",t)}}));return function(){return e.apply(this,arguments)}}(),F=(0,i.useRef)(null),M=(0,i.useState)(36),B=(0,a.default)(M,2),R=B[0],E=B[1],z=(0,i.useState)(!1),T=(0,a.default)(z,2),L=T[0],A=T[1],V=(0,i.useState)(0),W=(0,a.default)(V,2),U=(W[0],W[1]);(0,i.useEffect)((function(){Z(),H()}),[]);var Z=function(){var e=F.current.offsetWidth,t=Math.min(.02*g,.045*m),n=Math.min(t,300/e*t);E(n)},H=function(){var e=(0,o.default)((function*(){try{var e=yield w.default.getItem("profile_nickname");e&&h({name:e})}catch(t){console.log("Error fetching saved nickname:",t)}}));return function(){return e.apply(this,arguments)}}(),_=function(){var e=(0,o.default)((function*(){if(L){A(!1),U(0);try{yield function(e){return Pe.apply(this,arguments)}(d.name),d.name!==l.name&&(yield J(d.name))}catch(t){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u043d\u0438\u043a\u043d\u0435\u0439\u043c\u0430:",t)}}else A(!0),U(90);try{var e=yield Ce();console.log("Profile nickname:",e)}catch(t){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0434\u0433\u0440\u0443\u0437\u043a\u0435 \u043d\u0438\u043a\u043d\u0435\u0439\u043c\u0430:",t)}}));return function(){return e.apply(this,arguments)}}(),N={transform:"rotate("+(L?45:0)+"deg)",transition:"transform 0.5s ease"},J=function(){var e=(0,o.default)((function*(e){try{var t=null==l?void 0:l.id;if(t)(yield fetch("https://linking-api.onrender.com/api/users/"+t+"/update/name?name="+encodeURIComponent(e),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa("admin:root")}})).ok||alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f")}catch(n){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0438 \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443",n)}}));return function(t){return e.apply(this,arguments)}}();return(0,f.jsxs)(c.default,{style:n.containerMain,children:[(0,f.jsxs)(c.default,{style:n.profileSettingsContainer,children:[(0,f.jsx)(c.default,{style:{marginBottom:13},children:(0,f.jsx)(We,{children:r})}),(0,f.jsxs)(c.default,{style:n.nicknameContainer,children:[L?(0,f.jsx)(qe,{value:d.name,setValue:function(e){return h(Ke(Ke({},d),{},{name:e}))},flex:!1}):(0,f.jsx)(j.default,{style:{fontSize:Math.min(.03*g,.055*m),fontFamily:"Montserrat-Regular",paddingHorizontal:30},children:d.name}),(0,f.jsx)(I.default,{onPress:_,children:(0,f.jsx)(Je,{style:N})})]}),(0,f.jsx)(c.default,{style:{borderTopWidth:1,borderBottomWidth:1,borderColor:"#000000",paddingHorizontal:10,paddingVertical:15,width:.2*g,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",marginBottom:13},children:(0,f.jsx)(c.default,{ref:F,onLayout:Z,children:(0,f.jsx)(j.default,{style:{color:"#000000",fontSize:R,textAlign:"center",fontFamily:"Montserrat-Regular",marginBottom:13},children:C||l.email})})}),(0,f.jsx)(c.default,{style:{alignItems:"center",width:"100%",marginLeft:20},children:(0,f.jsx)(x,{title:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u043e\u0447\u0442\u0443",onPress:function(){return t.navigate("ChangeEmail")}})}),(0,f.jsx)(c.default,{style:{marginBottom:13,alignItems:"center",width:"100%",marginLeft:20},children:(0,f.jsx)(x,{title:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c",onPress:function(){return t.navigate("ChangePassword")}})})]}),(0,f.jsx)(c.default,{style:n.topLeft,children:(0,f.jsx)(b.default,{onPress:function(){return t.navigate("MainAuth")},children:(0,f.jsx)(He,{})})})]})}function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const nt=function(e){var t=e.navigation,n=v(),r=(0,i.useState)({email:"",code:""}),l=(0,a.default)(r,2),s=l[0],u=l[1],d=(0,i.useState)(""),h=(0,a.default)(d,2),p=h[0],g=h[1],m=(0,i.useContext)(k).user,y="admin",j="root",w=function(){var e=(0,o.default)((function*(){if(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(s.email))try{var e="https://linking-api.onrender.com/api/users/"+(null==m?void 0:m.id)+"/update/email?email="+encodeURIComponent(s.email);(yield fetch(e,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa(y+":"+j)}})).ok?(alert("\u041f\u043e\u0447\u0442\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430"),function(e){ke.apply(this,arguments)}(s.email)):alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u043e\u0447\u0442\u0443")}catch(t){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0438 \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443",t)}else alert("\u041d\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u043f\u043e\u0447\u0442\u044b")}));return function(){return e.apply(this,arguments)}}();return(0,f.jsxs)(c.default,{style:n.containerMain,children:[(0,f.jsxs)(c.default,{style:n.textContainer,children:[(0,f.jsxs)(c.default,{style:n.inputContainer,children:[(0,f.jsx)(c.default,{style:{marginBottom:13},children:(0,f.jsx)(ie,{value:s.email,setValue:function(e){return u(tt(tt({},s),{},{email:e}))},placeholder:"\u041f\u043e\u0447\u0442\u0430",type:"email",flex:!1})}),(0,f.jsx)(c.default,{style:{marginBottom:13},children:(0,f.jsx)(ie,{value:s.code,setValue:function(e){return u(tt(tt({},s),{},{code:e}))},placeholder:"\u041a\u043e\u0434",type:"code",flex:!1})})]}),(0,f.jsx)(c.default,{children:(0,f.jsx)(x,{title:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u043e\u0447\u0442\u0443",onPress:w,disabled:!s.email||!s.code||s.code!=p})}),(0,f.jsx)(c.default,{style:{marginBottom:13},children:(0,f.jsx)(x,{title:"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043a\u043e\u0434",onPress:function(){var e=encodeURIComponent(s.email);fetch("https://linking-api.onrender.com/api/send_email?email="+e,{method:"GET",headers:{Authorization:"Basic "+btoa(y+":"+j)}}).then((function(e){return e.json()})).then((function(e){g(e),e?alert("\u041a\u043e\u0434 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f \u0431\u044b\u043b \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u043d\u0430 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u0443\u044e \u043f\u043e\u0447\u0442\u0443!"):alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u0434")})).catch((function(e){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0438 \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443",e)}))},disabled:!s.email})})]}),(0,f.jsx)(c.default,{style:n.topLeft,children:(0,f.jsx)(b.default,{onPress:function(){return t.navigate("Profile")},children:(0,f.jsx)(He,{})})})]})};function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ot=function(e){var t=e.navigation,n=v(),r=(0,i.useState)({newPassword:"",password:"",confirmPassword:""}),l=(0,a.default)(r,2),s=l[0],u=l[1],d=(0,i.useContext)(k).user,h=function(){var e=(0,o.default)((function*(){if(s.newPassword!==s.confirmPassword)return alert("\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0435\u0442 \u0441 \u043f\u043e\u043b\u0435\u043c \u043f\u043e\u043b\u0435\u043c \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f");var e=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$/;if(e.test(s.password)||e.test(s.newPassword)){var t=null==d?void 0:d.id,n=new URLSearchParams({last_password:s.password,new_password:s.newPassword});try{(yield fetch("https://linking-api.onrender.com/api/users/"+t+"/update/password?"+n.toString(),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa("admin:root")}})).ok?alert("\u041f\u0430\u0440\u043e\u043b\u044c \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d"):alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c")}catch(r){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0438 \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443",r)}}else alert("\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u043f\u0430\u0440\u043e\u043b\u044f: \u043c\u0438\u043d\u0438\u043c\u0443\u043c 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 \u0432 \u0434\u043b\u0438\u043d\u0443, \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u043e\u0434\u043d\u0443 \u0437\u0430\u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0438 \u0441\u0442\u0440\u043e\u0447\u043d\u0443\u044e \u0431\u0443\u043a\u0432\u0443, \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u043e\u0434\u043d\u0443 \u0446\u0438\u0444\u0440\u0443, \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0439 \u0441\u0438\u043c\u0432\u043e\u043b\u044b( !@#$%^&*)")}));return function(){return e.apply(this,arguments)}}();return(0,f.jsxs)(c.default,{style:n.containerMain,children:[(0,f.jsxs)(c.default,{style:n.textContainer,children:[(0,f.jsxs)(c.default,{style:n.inputContainer,children:[(0,f.jsx)(c.default,{style:{marginBottom:13},children:(0,f.jsx)(ie,{value:s.password,setValue:function(e){return u(at(at({},s),{},{password:e}))},placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",flex:!1})}),(0,f.jsx)(c.default,{style:{marginBottom:13},children:(0,f.jsx)(ie,{value:s.newPassword,setValue:function(e){return u(at(at({},s),{},{newPassword:e}))},placeholder:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",type:"password",flex:!1})}),(0,f.jsx)(c.default,{style:{marginBottom:13},children:(0,f.jsx)(ie,{value:s.confirmPassword,setValue:function(e){return u(at(at({},s),{},{confirmPassword:e}))},placeholder:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c",type:"password",flex:!1})})]}),(0,f.jsx)(c.default,{children:(0,f.jsx)(x,{title:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c",onPress:h,disabled:!s.newPassword||!s.password||!s.confirmPassword})})]}),(0,f.jsx)(c.default,{style:n.topLeft,children:(0,f.jsx)(b.default,{onPress:function(){return t.navigate("Profile")},children:(0,f.jsx)(He,{})})})]})};function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const st=function(e){return(0,f.jsx)(d(),lt(lt({xmlns:"http://www.w3.org/2000/svg",width:15,height:21,fill:"none"},e),{},{children:(0,f.jsx)(u.Path,{stroke:"#000",d:"M14 1H1v18l6.24-5.4L14 19V1Z"})}))};function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const dt=function(e){return(0,f.jsxs)(d(),ut(ut({xmlns:"http://www.w3.org/2000/svg",width:15,height:21,fill:"none"},e),{},{children:[(0,f.jsx)(u.Path,{fill:"#0076B9",d:"M14 1H1v18l6.24-5.4L14 19V1Z"}),(0,f.jsx)(u.Path,{fill:"#000",fillOpacity:.2,d:"M14 1H1v18l6.24-5.4L14 19V1Z"}),(0,f.jsx)(u.Path,{stroke:"#0076B9",d:"M14 1H1v18l6.24-5.4L14 19V1Z"}),(0,f.jsx)(u.Path,{stroke:"#000",strokeOpacity:.2,d:"M14 1H1v18l6.24-5.4L14 19V1Z"})]}))};var ft=n(2982),ht=(0,i.createContext)(),pt=function(e){var t=e.children,n=(0,i.useState)([]),r=(0,a.default)(n,2),o=r[0],l=r[1];(0,i.useEffect)((function(){var e=localStorage.getItem("forwardedMessages");e&&l(JSON.parse(e))}),[]),(0,i.useEffect)((function(){localStorage.setItem("forwardedMessages",JSON.stringify(o))}),[o]);return(0,f.jsx)(ht.Provider,{value:{forwardedMessages:o,addForwardedMessage:function(e){l((function(t){return[].concat((0,ft.default)(t),[e])}))},clearForwardedMessages:function(){l([])}},children:t})};const gt=function(e){var t=e.data,n=(e.currentUser,t.imageUrl),r=t.nickname,l=t.role,s=t.message,u=t.own,d=t.channel,h=t.date,p=t.unauth,g=t.ident,b=(0,i.useState)(!1),x=(0,a.default)(b,2),v=x[0],w=x[1],O=new Date(h).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),P=(0,i.useContext)(k).user,C=function(){var e=(0,y.default)(),t=e.width,n=e.height;return m.default.create({container:{flexDirection:"row",alignItems:"flex-end",marginBottom:10,maxWidth:"100%"},ownContainer:{flexDirection:"row-reverse",alignItems:"flex-end",marginBottom:10,maxWidth:"100%"},avatar:{alignSelf:"flex-start"},messageBox:{backgroundColor:"#E7DEDE",paddingVertical:10,paddingHorizontal:15,maxWidth:"60%",borderTopLeftRadius:10,borderBottomLeftRadius:10,borderBottomRightRadius:10,position:"relative"},box:{borderTopRightRadius:10,borderBottomRightRadius:10,borderTopLeftRadius:10},ownMessageBox:{backgroundColor:"rgba(0, 118, 185, 0.35)",paddingVertical:10,paddingHorizontal:15,maxWidth:"60%",borderTopRightRadius:10,borderBottomRightRadius:10,borderTopLeftRadius:10,position:"relative"},forward:{alignSelf:"flex-end",marginBottom:5},ownForward:{alignSelf:"flex-start",marginBottom:5},nickname:{fontSize:Math.min(.012*t,.032*n),fontFamily:"Montserrat-Bold",fontWeight:"bold",color:"black",marginBottom:5},role:{fontSize:Math.min(.012*t,.032*n),fontFamily:"Montserrat-Regular",color:"#0076B9",marginBottom:5},message:{fontSize:Math.min(.01*t,.03*n),fontFamily:"Montserrat-Regular",color:"black",flexWrap:"wrap",marginBottom:5},time:{fontSize:Math.min(.008*t,.025*n),fontFamily:"Montserrat-Regular",color:"black",alignSelf:"flex-end"},ownTime:{fontSize:Math.min(.008*t,.025*n),fontFamily:"Montserrat-Regular",color:"black",alignSelf:"flex-start"},bubbleTail:{position:"absolute",top:0,left:-10,width:0,height:0,borderTopWidth:10,borderTopColor:"transparent",borderBottomWidth:10,borderBottomColor:"transparent",borderRightWidth:10,borderRightColor:"#E7DEDE"},ownBubbleTail:{position:"absolute",top:0,right:-10,width:0,height:0,borderTopWidth:10,borderTopColor:"transparent",borderBottomWidth:10,borderBottomColor:"transparent",borderLeftWidth:10,borderLeftColor:"rgba(0, 118, 185, 0.35)"}})}(),S=v?(0,f.jsx)(dt,{}):(0,f.jsx)(st,{}),D=[C.messageBox,u?C.ownMessageBox:C.box,{borderTopRightRadius:10,borderBottomRightRadius:u?0:10,borderBottomLeftRadius:10,borderTopLeftRadius:u?10:0}],F=function(){var e=(0,o.default)((function*(){w((function(e){return!e}));var e={username:P.name,messageId:g};try{(yield fetch("https://linking-api.onrender.com/api/saved_message/save",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa("admin:root")},body:JSON.stringify(e)})).ok||alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435")}catch(t){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",t)}}));return function(){return e.apply(this,arguments)}}();return(0,f.jsxs)(c.default,{style:u?C.ownContainer:C.container,children:[!u&&n&&(0,f.jsx)(c.default,{style:C.avatar,children:(0,f.jsx)(J,{imageUrl:n,profile:!1})}),(0,f.jsxs)(c.default,{style:D,children:[!p&&(0,f.jsx)(I.default,{onPress:F,children:(0,f.jsx)(c.default,{style:u?C.ownForward:C.forward,children:S})}),(0,f.jsx)(j.default,{style:C.nickname,children:r}),d&&(0,f.jsx)(j.default,{style:C.role,children:l}),(0,f.jsx)(j.default,{style:C.message,children:s}),(0,f.jsx)(j.default,{style:u?C.ownTime:C.time,children:O}),u&&(0,f.jsx)(c.default,{style:C.ownBubbleTail}),!u&&(0,f.jsx)(c.default,{style:C.bubbleTail})]})]})};function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const jt=function(e){var t=(0,y.default)(),n=t.width,r=t.height,a=Math.min(.093*n,.054*r);return(0,f.jsxs)(d(),yt(yt({xmlns:"http://www.w3.org/2000/svg",width:a,height:a,fill:"none"},e),{},{children:[(0,f.jsx)(u.G,{filter:"url(#a)",children:(0,f.jsx)(u.Circle,{cx:a/2,cy:.46875*a,r:.46875*a,fill:"#fff"})}),(0,f.jsx)(u.Path,{stroke:"#0076B9",strokeWidth:.05*a,d:"M"+.09375*a+" "+.46875*a+"L"+.65625*a+" "+.09375*a+"V"+.84375*a+"Z"}),(0,f.jsx)(u.Path,{stroke:"#0076B9",strokeWidth:.05*a,d:"M"+.66*a+" "+.46875*a+"L"+.1*a+" "+.46875*a}),(0,f.jsx)(u.Defs,{})]}))};const bt=function(e){var t=e.curuser,n=e.chanInf,r=e.channel,l=e.onMessageSent,s=(0,i.useState)(""),u=(0,a.default)(s,2),d=u[0],h=u[1],p=function(){var e=(0,y.default)(),t=e.width,n=e.height;return m.default.create({container:{flexDirection:"row",alignItems:"flex-end",paddingVertical:20},input:{flex:1,height:Math.min(.03*t,.055*n),fontSize:Math.min(.01*t,.03*n),paddingLeft:40,paddingVertical:5,borderRadius:10,backgroundColor:"#FFFFFF",color:"#000000",boxShadow:"2px 2px 2px rgba(0, 0, 0, 1)",fontFamily:"Montserrat-Regular",alignSelf:"flex-start",marginRight:30},sendButton:{transform:[{rotate:"180deg"}],alignSelf:"flex-end",marginLeft:30,alignItems:"center",justifyContent:"center"}})}(),g="admin",j="root",b=(0,i.useRef)(null),x=function(){var e=(0,o.default)((function*(){if(d)try{if(r){var e={currentUsername:t,message:d,channelName:n.channel.name};(yield fetch("https://linking-api.onrender.com/api/channels/add_message",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa(g+":"+j)},body:JSON.stringify(e)})).ok?(h(""),l()):alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435")}else{var a={currentUsername:t,otherUsername:n,message:d};(yield fetch("https://linking-api.onrender.com/api/chats/add_message",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa(g+":"+j)},body:JSON.stringify(a)})).ok?(h(""),l()):alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435")}}catch(o){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438",o)}}));return function(){return e.apply(this,arguments)}}();return(0,f.jsxs)(c.default,{style:p.container,children:[(0,f.jsx)(E.default,{ref:b,style:p.input,placeholder:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",value:d,onChangeText:h,multiline:!0,numberOfLines:4,onKeyPress:function(e){"Enter"!==e.key||e.shiftKey||(e.preventDefault(),x())}}),(0,f.jsx)(I.default,{style:p.sendButton,onPress:x,children:(0,f.jsx)(jt,{})})]})};function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wt(e){var t=e.navigation,n=e.route,r=(0,y.default)(),l=r.width,s=r.height,u=n.params.chatUser,d=ve(),h=(0,i.useState)(!1),p=(0,a.default)(h,2),g=p[0],m=p[1],v=(0,i.useState)({nickname:""}),w=(0,a.default)(v,2),P=w[0],C=w[1],S=(0,i.useContext)(k).user,D=(0,i.useContext)(k).logout,F=(0,i.useContext)(O).selectedImage,M=(0,i.useState)([]),R=(0,a.default)(M,2),E=(R[0],R[1],(0,i.useState)([])),I=(0,a.default)(E,2),T=I[0],L=I[1],A="admin",V="root",W=(0,i.useState)(""),U=(0,a.default)(W,2),Z=U[0],H=U[1],_=function(){var e=(0,o.default)((function*(){try{(yield fetch("https://linking-api.onrender.com/api/channels/create",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa(A+":"+V)},body:JSON.stringify({username:S.name,channelName:P.nickname})})).ok?(m(!1),alert("\u041a\u0430\u043d\u0430\u043b \u0441\u043e\u0437\u0434\u0430\u043d"),window.location.reload()):alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u0430\u043d\u0430\u043b")}catch(e){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0438 \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443",e)}}));return function(){return e.apply(this,arguments)}}(),N=(0,i.useState)(!0),G=(0,a.default)(N,2),$=G[0],Y=G[1];(0,X.useFocusEffect)(i.useCallback((function(){Q(),Y(!0)}),[])),(0,i.useEffect)((function(){$&&K().then((function(){return Y(!1)})).catch((function(e){return alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0438 \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443:",e)}))}),[$]),(0,i.useEffect)((function(){var e=setInterval((function(){Y(!0)}),1e3);return function(){return clearInterval(e)}}),[]);var K=function(){var e=(0,o.default)((function*(){var e="https://linking-api.onrender.com/api/chats/usernames?first_user="+S.name+"&second_user="+u.name;try{var t=yield fetch(e,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa(A+":"+V)}});if(!t.ok)throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0434\u0433\u0440\u0443\u0437\u043a\u0435 \u0447\u0430\u0442\u0430, \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0435\u0433\u043e \u0435\u0449\u0435 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442");var n=yield t.json();L(n),console.log(n)}catch(r){}}));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=(0,o.default)((function*(){try{var e=yield Ce();e&&e!==Z&&H(e)}catch(t){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0434\u0433\u0440\u0443\u0437\u043a\u0435 \u043d\u0438\u043a\u043d\u0435\u0439\u043c\u0430",t)}}));return function(){return e.apply(this,arguments)}}(),ee=F||S&&S.image,te=P.nickname,ne=[{onPress:function(e){return(0,be.default)(e),t.navigate("Profile")},text:"\u041c\u043e\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"},{onPress:function(){D(),window.location.reload()},text:"\u0412\u044b\u0439\u0442\u0438"}];return(0,f.jsxs)(c.default,{style:d.containerMain,children:[(0,f.jsx)(c.default,{style:d.barContainer,children:(0,f.jsx)(q,{data:{avatarUrl:u.image,username:u.name,onPress:K}})}),(0,f.jsxs)(c.default,{style:d.profileContainer,children:[(0,f.jsx)(J,{imageUrl:ee,profile:!0}),(0,f.jsx)(j.default,{style:{color:"#000000",fontSize:Math.min(.03*l,.055*s),textAlign:"center",marginBottom:13,fontFamily:"Montserrat-Regular"},children:Z||S.name}),ne.map((function(e,t){return(0,f.jsx)(c.default,{style:{width:"70%"},children:(0,f.jsx)(we,{data:e})},t)}))]}),(0,f.jsx)(c.default,{style:d.historyContainer,children:(0,f.jsx)(z.default,{style:{flex:1,scrollbarWidth:0,flexDirection:"column"},children:null==T?void 0:T.map((function(e){var t,n;return(0,f.jsx)(gt,{data:{imageUrl:null==(t=e.sender)?void 0:t.image,nickname:e.sender.name,message:e.data,date:e.date,own:(null==(n=e.sender)?void 0:n.name)===S.name,channel:!1,unauth:!1,ident:e.id},currentUser:S},e.id)}))})}),(0,f.jsx)(c.default,{style:d.sendContainer,children:(0,f.jsx)(bt,{channel:!1,curuser:Z||S.name,chanInf:u.name,onMessageSent:function(){Y(!0)}})}),(0,f.jsx)(c.default,{style:d.bottomLeft,children:(0,f.jsx)(b.default,{onPress:function(){return m(!0)},children:(0,f.jsx)(B,{})})}),(0,f.jsx)(xe.default,{visible:g,transparent:!0,children:(0,f.jsxs)(c.default,{style:d.popupContainer,children:[(0,f.jsx)(j.default,{style:d.text,children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u043d\u0430\u043b\u0430"}),(0,f.jsx)(c.default,{style:{marginBottom:13,alignItems:"center"},children:(0,f.jsx)(ie,{value:P.nickname,setValue:function(e){return C(vt(vt({},P),{},{nickname:e}))},placeholder:"",type:"nickname",flex:!0})}),(0,f.jsx)(c.default,{children:(0,f.jsx)(b.default,{onPress:function(){return m(!1)},children:(0,f.jsx)(x,{title:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",onPress:_,disabled:!te})})})]})})]})}function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Ct=function(e){return(0,f.jsxs)(d(),Pt(Pt({xmlns:"http://www.w3.org/2000/svg",width:14,height:56,fill:"none"},e),{},{children:[(0,f.jsx)(u.Circle,{cx:7,cy:7,r:7,fill:"#373535"}),(0,f.jsx)(u.Circle,{cx:7,cy:49,r:7,fill:"#373535"}),(0,f.jsx)(u.Circle,{cx:7,cy:28,r:7,fill:"#373535"})]}))};function St(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?St(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dt(e){var t,n=e.navigation,r=e.route,l=ve(),s=r.params.channelId,u=(0,i.useState)(!1),d=(0,a.default)(u,2),h=d[0],p=d[1],g=(0,i.useState)({nickname:""}),m=(0,a.default)(g,2),v=m[0],w=m[1],P=(0,y.default)(),C=P.width,S=P.height,D=(0,i.useContext)(k).logout,F=(0,i.useContext)(k).user,M=(0,i.useContext)(O).selectedImage,R=(0,i.useState)(!1),E=(0,a.default)(R,2),I=E[0],T=E[1],L=(0,i.useState)(!1),A=(0,a.default)(L,2),V=A[0],W=A[1],U=(0,i.useState)(!1),Z=(0,a.default)(U,2),H=Z[0],_=Z[1],N=(0,i.useState)(""),G=(0,a.default)(N,2),$=G[0],Y=G[1],q="admin",K="root",Q=(0,i.useState)([]),ee=(0,a.default)(Q,2),te=ee[0],ne=ee[1],re=(0,i.useState)(""),ae=(0,a.default)(re,2),oe=ae[0],le=ae[1],se=(0,i.useState)(!0),ce=(0,a.default)(se,2),ue=ce[0],de=ce[1],fe=function(){var e=(0,o.default)((function*(){try{var e=yield fetch("https://linking-api.onrender.com/api/channels/"+s,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa(q+":"+K)}});if(e.ok){var t,n=yield e.json(),r=(null==F?void 0:F.id)===(null==(t=n.creator)?void 0:t.id),a=n.members.find((function(e){return e.user.id===F.id})),o=n.members.find((function(e){return e.user.id===F.id}));if(o){var i=o.role;i&&void 0!==i.admin&&_(i.admin)}T(a),W(r),ne(n),le(n.channel.name)}}catch(l){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0438 \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443",l)}}));return function(){return e.apply(this,arguments)}}();(0,X.useFocusEffect)(i.useCallback((function(){he(),de(!0)}),[])),(0,i.useEffect)((function(){ue&&fe().then((function(){return de(!1)})).catch((function(e){return alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u0434\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u043a\u0430\u043d\u0430\u043b\u0435",e)}))}),[ue]),(0,i.useEffect)((function(){var e=setInterval((function(){de(!0)}),1e3);return function(){return clearInterval(e)}}),[]);var he=function(){var e=(0,o.default)((function*(){try{var e=yield Ce();e&&e!==$&&Y(e)}catch(t){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0434\u0433\u0440\u0443\u0437\u043a\u0435 \u043d\u0438\u043a\u043d\u0435\u0439\u043c\u0430",t)}}));return function(){return e.apply(this,arguments)}}(),pe=v.nickname,ge=[{onPress:function(e){return(0,be.default)(e),n.navigate("Profile")},text:"\u041c\u043e\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"},{onPress:function(){D(),window.location.reload()},text:"\u0412\u044b\u0439\u0442\u0438"}],me=function(){var e=(0,o.default)((function*(){try{var e=$||F.name,t=I?"https://linking-api.onrender.com/api/channels/"+s+"/leave?username="+e:"https://linking-api.onrender.com/api/channels/join?username="+e+"&channel_name="+oe;(yield fetch(t,{method:I?"DELETE":"POST",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa(q+":"+K)}})).ok?(T((function(e){return!e})),alert(I?"\u0412\u044b \u043f\u043e\u043a\u0438\u043d\u0443\u043b\u0438 \u043a\u0430\u043d\u0430\u043b":"\u0412\u044b \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u043b\u0438\u0441\u044c \u043a \u043a\u0430\u043d\u0430\u043b\u0443"),window.location.reload()):alert(I?"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u043a\u0430\u043d\u0430\u043b":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c\u0441\u044f \u043a \u043a\u0430\u043d\u0430\u043b\u0443")}catch(n){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0438 \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443",n)}}));return function(){return e.apply(this,arguments)}}(),ye=M||F&&F.image,je=function(){var e=(0,o.default)((function*(){try{(yield fetch("https://linking-api.onrender.com/api/channels/create",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa(q+":"+K)},body:JSON.stringify({username:F.name,channelName:v.nickname})})).ok?(p(!1),alert("\u041a\u0430\u043d\u0430\u043b \u0441\u043e\u0437\u0434\u0430\u043d"),window.location.reload()):alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u0430\u043d\u0430\u043b")}catch(e){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0438 \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443:",e)}}));return function(){return e.apply(this,arguments)}}();return(0,f.jsxs)(c.default,{style:l.containerMain,children:[(0,f.jsxs)(c.default,{style:l.barChanContainer,children:[(0,f.jsx)(j.default,{style:l.barText,children:oe}),(0,f.jsx)(c.default,{children:(0,f.jsx)(x,{title:I?"\u041f\u043e\u043a\u0438\u043d\u0443\u0442\u044c":"\u041f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c\u0441\u044f",onPress:me,disabled:V})}),I&&H&&(0,f.jsx)(c.default,{style:{marginRight:20},children:(0,f.jsx)(b.default,{onPress:function(e){return(0,be.default)(e),n.navigate("Settings",{channelId:te.channel.id})},children:(0,f.jsx)(Ct,{})})})]}),(0,f.jsxs)(c.default,{style:l.profileContainer,children:[(0,f.jsx)(J,{imageUrl:ye,profile:!0}),(0,f.jsx)(j.default,{style:{color:"#000000",fontSize:Math.min(.03*C,.055*S),textAlign:"center",marginBottom:13,fontFamily:"Montserrat-Regular"},children:$||F.name}),ge.map((function(e,t){return(0,f.jsx)(c.default,{style:{width:"70%"},children:(0,f.jsx)(we,{data:e},t)},t)}))]}),(0,f.jsx)(c.default,{style:l.historyContainer,children:(0,f.jsx)(z.default,{style:{flex:1,scrollbarWidth:0,flexDirection:"column"},children:null==te||null==(t=te.messages)?void 0:t.map((function(e){var t,n,r,a,o,i=null==(t=e.sender)?void 0:t.id,l=te.members.find((function(e){return e.user.id===i})),s=null==l||null==(n=l.role)?void 0:n.name;return(0,f.jsx)(gt,{data:{imageUrl:null==(r=e.sender)?void 0:r.image,nickname:null==(a=e.sender)?void 0:a.name,role:s,message:e.data,date:e.date,own:(null==(o=e.sender)?void 0:o.name)===F.name,channel:!0,unauth:!1,ident:e.id},currentUser:F},e.id)}))})}),I&&(0,f.jsx)(c.default,{style:l.sendContainer,children:(0,f.jsx)(bt,{channel:!0,curuser:$||F.name,chanInf:te,onMessageSent:function(){de(!0)}})}),(0,f.jsx)(c.default,{style:l.bottomLeft,children:(0,f.jsx)(b.default,{onPress:function(){return p(!0)},children:(0,f.jsx)(B,{})})}),(0,f.jsx)(xe.default,{visible:h,transparent:!0,children:(0,f.jsxs)(c.default,{style:l.popupContainer,children:[(0,f.jsx)(j.default,{style:l.text,children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u043d\u0430\u043b\u0430"}),(0,f.jsx)(c.default,{style:{marginBottom:13,alignItems:"center"},children:(0,f.jsx)(ie,{value:v.nickname,setValue:function(e){return w(kt(kt({},v),{},{nickname:e}))},placeholder:"",type:"nickname",flex:!0})}),(0,f.jsx)(b.default,{onPress:function(){return p(!1)},children:(0,f.jsx)(x,{title:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",onPress:je,disabled:!pe})})]})})]})}function Ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Bt=function(e){return(0,f.jsxs)(d(),Mt(Mt({xmlns:"http://www.w3.org/2000/svg",width:44,height:42,fill:"none"},e),{},{children:[(0,f.jsx)(u.Path,{fill:"#373535",d:"M1 40.444v-8.5l24.5-23 8.5 8-24.5 23.5H1ZM38 12.944l-8.5-8s2.5-2.5 4.5-3.5 4 0 4 0 4 1.5 4 3.5.5 3 0 4-4 4-4 4Z"}),(0,f.jsx)(u.Path,{stroke:"#373535",strokeWidth:1.9,d:"M1 40.444v-8.5l24.5-23 8.5 8-24.5 23.5H1ZM38 12.944l-8.5-8s2.5-2.5 4.5-3.5 4 0 4 0 4 1.5 4 3.5.5 3 0 4-4 4-4 4Z"})]}))};function Rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const It=function(e){return(0,f.jsx)(d(),Et(Et({xmlns:"http://www.w3.org/2000/svg",width:67,height:67,fill:"none"},e),{},{children:(0,f.jsx)(u.Circle,{cx:33.5,cy:33.5,r:23,stroke:"#000"})}))};function zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Lt=function(e){return(0,f.jsxs)(d(),Tt(Tt({xmlns:"http://www.w3.org/2000/svg",width:67,height:67,fill:"none"},e),{},{children:[(0,f.jsx)(u.Circle,{cx:33.5,cy:33.5,r:23,fill:"#0076B9"}),(0,f.jsx)(u.Circle,{cx:33.5,cy:33.5,r:23,fill:"#000",fillOpacity:.2}),(0,f.jsx)(u.Circle,{cx:33.5,cy:33.5,r:23,stroke:"#000"})]}))};function At(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?At(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wt(e){var t=e.data,n=t.role,r=t.name,l=(t.onPress,t.containerStyle),s=t.creator,u=t.channelId,d=t.admin,h=(0,i.useState)(!1),p=(0,a.default)(h,2),g=p[0],b=p[1],v=(0,i.useState)(!1),w=(0,a.default)(v,2),O=w[0],P=w[1],C=(0,i.useState)({nickname:"",role:n}),S=(0,a.default)(C,2),D=S[0],F=S[1],M=function(){var e=(0,y.default)(),t=e.width,n=e.height;return m.default.create({container:{backgroundColor:"#FFFFFF",borderRadius:26,paddingVertical:12,paddingHorizontal:16},text:{fontFamily:"Montserrat-Regular",color:"#000000",fontSize:Math.min(.012*t,.032*n),textAlign:"center",marginBottom:13},content:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",flex:1},username:{fontFamily:"Montserrat-Regular",fontSize:Math.min(.012*t,.032*n),color:"#000000",marginLeft:40},role:{fontFamily:"Montserrat-Regular",fontSize:Math.min(.012*t,.032*n),color:"#0076B9",marginLeft:40,marginRight:40},inputContainer:{flexDirection:"row",alignItems:"center"},popupContainer:{backgroundColor:"#E7DEDE",borderRadius:35,padding:20,shadowColor:"#000",shadowOffset:{width:2,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:7,position:"absolute",top:"50%",left:"50%",transform:[{translateX:"-50%"},{translateY:"-50%"}],width:"30%",height:"30%",justifyContent:"center",alignItems:"center",flexDirection:"column"}})}(),B=(0,i.useState)(!1),R=(0,a.default)(B,2),E=R[0],z=R[1],T="admin",L="root",A=D.role,V=(0,i.useContext)(k).user,W=function(){var e=(0,o.default)((function*(){if(V.name==r||d&&!s)alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043f\u044b\u0442\u043a\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f:");else try{var e="https://linking-api.onrender.com/api/channels/"+u.channel.id+"/leave?username="+r;yield Ae.default.delete(e,{auth:{username:T,password:L}})}catch(t){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043f\u044b\u0442\u043a\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f:",t)}}));return function(){return e.apply(this,arguments)}}(),U=function(){var e=(0,o.default)((function*(){var e={name:D.role,isAdmin:E,username:r,channelName:u.channel.name};try{(yield fetch("https://linking-api.onrender.com/api/roles/update",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa(T+":"+L)},body:JSON.stringify(e)})).ok||alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0440\u043e\u043b\u044c")}catch(t){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u0440\u043e\u043b\u0438",t)}P(!1)}));return function(){return e.apply(this,arguments)}}();return(0,f.jsxs)(I.default,{style:[M.container,l,g&&{backgroundColor:"#E7DEDE"}],onMouseEnter:function(){return b(!0)},onMouseLeave:function(){return b(!1)},children:[(0,f.jsxs)(c.default,{style:M.content,children:[!s&&(0,f.jsx)(I.default,{onPress:W,children:(0,f.jsx)(Y,{})}),(0,f.jsx)(j.default,{style:M.username,children:r}),(0,f.jsx)(j.default,{style:M.role,children:D.role}),!s&&(0,f.jsx)(I.default,{onPress:function(){return P(!0)},children:(0,f.jsx)(Bt,{})})]}),(0,f.jsx)(xe.default,{visible:O,transparent:!0,children:(0,f.jsxs)(c.default,{style:M.popupContainer,children:[(0,f.jsx)(j.default,{style:M.text,children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u043e\u043b\u0438"}),(0,f.jsxs)(c.default,{style:M.inputContainer,children:[(0,f.jsx)(ie,{value:D.role,setValue:function(e){return F(Vt(Vt({},D),{},{role:e}))},placeholder:"",type:"nickname",flex:!0}),(0,f.jsx)(I.default,{style:M.adminButton,onPress:function(){z(!E)},children:E?(0,f.jsx)(Lt,{}):(0,f.jsx)(It,{})})]}),(0,f.jsx)(c.default,{children:(0,f.jsx)(I.default,{onPress:function(){return P(!1)},children:(0,f.jsx)(x,{title:"\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c",onPress:U,disabled:!A})})})]})})]})}function Ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ht(e){var t,n=e.navigation,r=e.route.params.channelId,l=(0,i.useContext)(k).user,s=ve(),u=(0,i.useState)(!1),d=(0,a.default)(u,2),h=d[0],p=d[1],g=(0,i.useState)(""),m=(0,a.default)(g,2),y=(m[0],m[1]),j=(0,i.useState)(!1),v=(0,a.default)(j,2),O=v[0],P=v[1],C=(0,i.useState)([]),S=(0,a.default)(C,2),D=S[0],F=S[1],M="admin",B="root";(0,X.useFocusEffect)(i.useCallback((function(){L()}),[]));var R=(0,i.useState)({nickname:D.name||"a"}),E=(0,a.default)(R,2),I=E[0],T=E[1],L=function(){var e=(0,o.default)((function*(){try{var e=yield fetch("https://linking-api.onrender.com/api/channels/"+r,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa(M+":"+B)}});if(e.ok){var t,n=yield e.json();F(n),T((function(e){return Zt(Zt({},e),{},{nickname:n.channel.name||"a"})}));var a=(null==l?void 0:l.id)===(null==(t=n.creator)?void 0:t.id);p(a)}else alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u043a\u0430\u043d\u0430\u043b\u0435, \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043e\u043d \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442")}catch(o){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0438 \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443",o)}}));return function(){return e.apply(this,arguments)}}(),A=function(){var e=(0,o.default)((function*(){try{(yield fetch("https://linking-api.onrender.com/api/channels/delete/"+r,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa(M+":"+B)}})).ok?(alert("\u041a\u0430\u043d\u0430\u043b \u0443\u0434\u0430\u043b\u0435\u043d"),n.navigate("MainAuth")):alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u0430\u043d\u0430\u043b")}catch(e){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0438 \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443",e)}}));return function(){return e.apply(this,arguments)}}(),V=function(){var e=(0,o.default)((function*(e){y(e);try{yield w.default.setItem("role",e)}catch(t){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0440\u043e\u043b\u0438:",t)}}));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=(0,o.default)((function*(){if(O){P(!1);try{var e=yield fetch("https://linking-api.onrender.com/api/channels/"+r+"/update?name="+encodeURIComponent(I.nickname),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa(M+":"+B)}});if(e.ok){var t=yield e.json(),n=l.channels.map((function(e){return e.id===t.id?Zt(Zt({},e),{},{name:t.name}):e})),a=Zt(Zt({},l),{},{channels:n});localStorage.setItem("user",JSON.stringify(a))}else alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0438\u043c\u044f \u043a\u0430\u043d\u0430\u043b\u0430")}catch(o){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0438 \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443",o)}}else P(!0)}));return function(){return e.apply(this,arguments)}}();return(0,f.jsxs)(c.default,{style:s.containerSettings,children:[(0,f.jsxs)(c.default,{style:s.channNameContainer,children:[(0,f.jsx)(c.default,{style:s.dataInputContainer,children:(0,f.jsx)(ie,{value:I.nickname,setValue:function(e){return T(Zt(Zt({},I),{},{nickname:e}))},placeholder:"",type:"nickname",flex:!1,editable:O})}),(0,f.jsx)(b.default,{onPress:W,children:(0,f.jsx)(Je,{})})]}),(0,f.jsx)(c.default,{style:s.settingsContainer,children:(0,f.jsx)(z.default,{style:{flex:1,scrollbarWidth:0,flexDirection:"column"},children:null==(t=D.members)?void 0:t.map((function(e){return(0,f.jsx)(Wt,{data:{key:e.id,name:e.user.name,role:e.role.name,onRoleChange:V,creator:e.role.creator,admin:e.role.admin,channelId:D}})}))})}),(0,f.jsx)(c.default,{style:s.topLeft,children:(0,f.jsx)(b.default,{onPress:function(){return n.navigate("Channel",{channelId:r})},children:(0,f.jsx)(He,{})})}),(0,f.jsx)(c.default,{style:s.bottomLeft,children:(0,f.jsx)(x,{title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u0430\u043d\u0430\u043b",onPress:A,disabled:!h})})]})}function _t(e){var t,n=e.navigation,r=e.route,l=ve(),s=r.params.channelId,u=(0,i.useState)(!1),d=(0,a.default)(u,2),h=(d[0],d[1]);(0,i.useEffect)((function(){h(!1)}),[s]),(0,X.useFocusEffect)(i.useCallback((function(){M()}),[s]));var p=(0,i.useState)([]),g=(0,a.default)(p,2),m=g[0],y=g[1],v=(0,i.useRef)(null),w=(0,i.useState)(!0),O=(0,a.default)(w,2),P=O[0],C=O[1];(0,i.useEffect)((function(){var e;(null==m||null==(e=m.messages)?void 0:e.length)>0&&P&&v.current.scrollToEnd({animated:!0})}),[null==m?void 0:m.messages,P]);var S=(0,i.useState)(""),k=(0,a.default)(S,2),D=k[0],F=k[1],M=function(){var e=(0,o.default)((function*(){try{var e=yield fetch("https://linking-api.onrender.com/api/channels/"+s,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa("admin:root")}});if(e.ok){var t=yield e.json();y(t),F(t.channel.name)}else alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u043a\u0430\u043d\u0430\u043b\u0435, \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043e\u043d \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442")}catch(n){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0438 \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443:",n)}}));return function(){return e.apply(this,arguments)}}();return m?(0,f.jsxs)(c.default,{style:l.containerMain,children:[(0,f.jsxs)(c.default,{style:l.barChanContainer,children:[(0,f.jsx)(j.default,{style:l.barText,children:D}),(0,f.jsx)(c.default,{children:(0,f.jsx)(x,{title:"\u041f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c\u0441\u044f",onPress:function(){return n.navigate("Auth")}})})]}),(0,f.jsx)(c.default,{style:l.historyContainer,children:(0,f.jsx)(z.default,{ref:v,onContentSizeChange:function(){var e=v.current&&v.current.contentOffset&&v.current.contentOffset.y+v.current.layoutMeasurement.height>=v.current.contentSize.height;C(e)},style:{flex:1,scrollbarWidth:0,flexDirection:"column"},children:null==m||null==(t=m.messages)?void 0:t.map((function(e){var t,n,r,a,o=null==(t=e.sender)?void 0:t.id,i=m.members.find((function(e){return e.user.id===o})),l=null==i||null==(n=i.role)?void 0:n.name;return(0,f.jsx)(gt,{data:{imageUrl:null==(r=e.sender)?void 0:r.image,nickname:null==(a=e.sender)?void 0:a.name,role:l,message:e.data,date:e.date,own:!1,channel:!0,unauth:!0}},e.id)}))})}),(0,f.jsx)(c.default,{style:l.bottomLeft,children:(0,f.jsx)(b.default,{onPress:function(){return n.navigate("Auth")},children:(0,f.jsx)(B,{})})})]}):null}var Nt=n(316);n(5201);function Jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gt(){var e=(0,s.default)(),t=(0,i.useState)(""),n=(0,a.default)(t,2),u=n[0],d=n[1],h=(0,i.useState)([]),p=(0,a.default)(h,2),g=(p[0],p[1],"admin"),m="root",y=(0,i.useState)([]),j=(0,a.default)(y,2),v=j[0],w=j[1],O=(0,i.useState)([]),C=(0,a.default)(O,2),k=C[0],F=C[1];(0,i.useEffect)((function(){document.title="Linking"}),[]),(0,i.useEffect)((function(){var e=function(){var e=(0,o.default)((function*(){try{var e=yield fetch("https://linking-api.onrender.com/api/channels",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa(g+":"+m)}});if(e.ok){for(var t=yield e.json(),n=[],r=[],a=function*(){var e=t[o];n.push({name:e.name,onPress:function(t){return t.navigation.navigate("Channel",{channelId:e.channel.id})},avatarUrl:null}),r.push({name:e.name,onPress:function(t){return t.navigation.navigate("ChannelUnauth",{channelId:e.channel.id})},avatarUrl:null})},o=0;o<t.length;o++)yield*a();var i=yield fetch("https://linking-api.onrender.com/api/users",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa(g+":"+m)}});if(i.ok)for(var l=yield i.json(),s=function*(){var e=l[c];n.push({name:e.name,onPress:function(t){return t.navigation.navigate("Chat",{chatUser:e})},avatarUrl:e.image})},c=0;c<l.length;c++)yield*s();else console.log("Failed to fetch user data");F(n),w(r)}else console.log("Failed to fetch channel data")}catch(u){console.log("Error fetching data:",u)}}));return function(){return e.apply(this,arguments)}}();e()}),[]);var M=[{name:"Greetings",component:D,options:function(e){var t=e.navigation;return{title:"",headerLeft:function(){return(0,f.jsx)(b.default,{onPress:function(){return t.navigate("MainUnauth")},children:(0,f.jsx)(je,{style:{marginLeft:20}})})},headerRight:function(){return(0,f.jsx)(x,{style:{marginRight:20},title:"\u0412\u043e\u0439\u0442\u0438",onPress:function(){return t.navigate("Auth")}})},headerShadowVisible:!0,headerStyle:{height:100,borderBottomWidth:1,borderBottomColor:"#ccc",backgroundColor:"#fff",elevation:3,justifyContent:"space-between",flexDirection:"row",alignItems:"center",paddingHorizontal:20}}}},{name:"MainUnauth",component:ne,options:function(e){var t=e.navigation;return{title:"",headerLeft:function(){return(0,f.jsx)(b.default,{onPress:function(){return t.navigate("MainUnauth")},children:(0,f.jsx)(je,{style:{marginLeft:20}})})},headerRight:function(){return(0,f.jsxs)(c.default,{style:{flexDirection:"row",alignItems:"center"},children:[(0,f.jsx)(te,{style:{marginRight:10},value:u,setValue:d,results:v,navigation:t,unauth:!0}),(0,f.jsx)(c.default,{style:{paddingHorizontal:193}}),(0,f.jsx)(x,{style:{marginLeft:10},title:"\u0412\u043e\u0439\u0442\u0438",onPress:function(){return t.navigate("Auth")}})]})},headerShadowVisible:!0,headerStyle:{height:100,borderBottomWidth:1,borderBottomColor:"#ccc",backgroundColor:"#fff",elevation:3,justifyContent:"space-between",flexDirection:"row",alignItems:"center",paddingHorizontal:20}}}},{name:"ChannelUnauth",component:_t,options:function(e){var t=e.navigation;e.route;return{title:"",headerLeft:function(){return(0,f.jsx)(b.default,{onPress:function(){return t.navigate("MainUnauth")},children:(0,f.jsx)(je,{style:{marginLeft:20}})})},headerRight:function(){return(0,f.jsxs)(c.default,{style:{flexDirection:"row",alignItems:"center"},children:[(0,f.jsx)(te,{style:{marginRight:10},value:u,setValue:d,results:v,unauth:!0,navigation:t}),(0,f.jsx)(c.default,{style:{paddingHorizontal:193}}),(0,f.jsx)(x,{style:{marginLeft:10},title:"\u0412\u043e\u0439\u0442\u0438",onPress:function(){return t.navigate("Auth")}})]})},headerShadowVisible:!0,headerStyle:{height:100,borderBottomWidth:1,borderBottomColor:"#ccc",backgroundColor:"#fff",elevation:3,justifyContent:"space-between",flexDirection:"row",alignItems:"center",paddingHorizontal:20}}}},{name:"Settings",component:Ht,options:function(e){var t=e.navigation;e.route;return{title:"",headerLeft:function(){return(0,f.jsx)(b.default,{onPress:function(){return t.navigate("MainAuth")},children:(0,f.jsx)(je,{style:{marginLeft:20}})})},headerRight:function(){return(0,f.jsxs)(c.default,{style:{flexDirection:"row",alignItems:"center"},children:[(0,f.jsx)(te,{style:{marginRight:10},value:u,setValue:d,results:k,navigation:t}),(0,f.jsx)(c.default,{style:{paddingHorizontal:30}})]})},headerShadowVisible:!0,headerStyle:{height:100,borderBottomWidth:1,borderBottomColor:"#ccc",backgroundColor:"#fff",elevation:3,justifyContent:"space-between",flexDirection:"row",alignItems:"center",paddingHorizontal:20}}}},{name:"MainAuth",component:Be,options:function(e){var t=e.navigation;return{title:"",headerLeft:function(){return(0,f.jsx)(b.default,{onPress:function(){return t.navigate("MainAuth")},children:(0,f.jsx)(je,{style:{marginLeft:20}})})},headerRight:function(){return(0,f.jsxs)(c.default,{style:{flexDirection:"row",alignItems:"center"},children:[(0,f.jsx)(te,{style:{marginRight:10},value:u,setValue:d,results:k,navigation:t}),(0,f.jsx)(c.default,{style:{paddingHorizontal:30}})]})},headerShadowVisible:!0,headerStyle:{height:100,borderBottomWidth:1,borderBottomColor:"#ccc",backgroundColor:"#fff",elevation:3,justifyContent:"space-between",flexDirection:"row",alignItems:"center",paddingHorizontal:20}}}},{name:"Chat",component:wt,options:function(e){var t=e.navigation;e.route;return{title:"",headerLeft:function(){return(0,f.jsx)(b.default,{onPress:function(){return t.navigate("MainAuth")},children:(0,f.jsx)(je,{style:{marginLeft:20}})})},headerRight:function(){return(0,f.jsxs)(c.default,{style:{flexDirection:"row",alignItems:"center"},children:[(0,f.jsx)(te,{style:{marginRight:10},value:u,setValue:d,results:k,navigation:t}),(0,f.jsx)(c.default,{style:{paddingHorizontal:30}})]})},headerShadowVisible:!0,headerStyle:{height:100,borderBottomWidth:1,borderBottomColor:"#ccc",backgroundColor:"#fff",elevation:3,justifyContent:"space-between",flexDirection:"row",alignItems:"center",paddingHorizontal:20}}}},{name:"Channel",component:Dt,options:function(e){var t=e.navigation;e.route;return{title:"",headerLeft:function(){return(0,f.jsx)(b.default,{onPress:function(){return t.navigate("MainAuth")},children:(0,f.jsx)(je,{style:{marginLeft:20}})})},headerRight:function(){return(0,f.jsxs)(c.default,{style:{flexDirection:"row",alignItems:"center"},children:[(0,f.jsx)(te,{style:{marginRight:10},value:u,setValue:d,results:k,navigation:t}),(0,f.jsx)(c.default,{style:{paddingHorizontal:30}})]})},headerShadowVisible:!0,headerStyle:{height:100,borderBottomWidth:1,borderBottomColor:"#ccc",backgroundColor:"#fff",elevation:3,justifyContent:"space-between",flexDirection:"row",alignItems:"center",paddingHorizontal:20}}}},{name:"Profile",component:Qe,options:function(e){var t=e.navigation;return{title:"",headerLeft:function(){return(0,f.jsx)(b.default,{onPress:function(){return t.navigate("MainAuth")},children:(0,f.jsx)(je,{style:{marginLeft:20}})})},headerRight:function(){return(0,f.jsxs)(c.default,{style:{flexDirection:"row",alignItems:"center"},children:[(0,f.jsx)(te,{style:{marginRight:10},value:u,setValue:d,results:k,navigation:t}),(0,f.jsx)(c.default,{style:{paddingHorizontal:30}})]})},headerShadowVisible:!0,headerStyle:{height:100,borderBottomWidth:1,borderBottomColor:"#ccc",backgroundColor:"#fff",elevation:3,justifyContent:"space-between",flexDirection:"row",alignItems:"center",paddingHorizontal:20}}}},{name:"ChangePassword",component:ot,options:function(e){var t=e.navigation;return{title:"",headerLeft:function(){return(0,f.jsx)(b.default,{onPress:function(){return t.navigate("MainAuth")},children:(0,f.jsx)(je,{style:{marginLeft:20}})})},headerRight:function(){return(0,f.jsxs)(c.default,{style:{flexDirection:"row",alignItems:"center"},children:[(0,f.jsx)(te,{style:{marginRight:10},value:u,setValue:d,results:k,navigation:t}),(0,f.jsx)(c.default,{style:{paddingHorizontal:30}})]})},headerShadowVisible:!0,headerStyle:{height:100,borderBottomWidth:1,borderBottomColor:"#ccc",backgroundColor:"#fff",elevation:3,justifyContent:"space-between",flexDirection:"row",alignItems:"center",paddingHorizontal:20}}}},{name:"ChangeEmail",component:nt,options:function(e){var t=e.navigation;return{title:"",headerLeft:function(){return(0,f.jsx)(b.default,{onPress:function(){return t.navigate("MainAuth")},children:(0,f.jsx)(je,{style:{marginLeft:20}})})},headerRight:function(){return(0,f.jsxs)(c.default,{style:{flexDirection:"row",alignItems:"center"},children:[(0,f.jsx)(te,{style:{marginRight:10},value:u,setValue:d,results:k,navigation:t}),(0,f.jsx)(c.default,{style:{paddingHorizontal:30}})]})},headerShadowVisible:!0,headerStyle:{height:100,borderBottomWidth:1,borderBottomColor:"#ccc",backgroundColor:"#fff",elevation:3,justifyContent:"space-between",flexDirection:"row",alignItems:"center",paddingHorizontal:20}}}},{name:"Auth",component:ce,options:function(e){var t=e.navigation;return{title:"",headerLeft:function(){return(0,f.jsx)(b.default,{onPress:function(){return t.navigate("MainUnauth")},children:(0,f.jsx)(je,{style:{marginLeft:20}})})},headerRight:function(){return(0,f.jsxs)(c.default,{style:{flexDirection:"row",alignItems:"center"},children:[(0,f.jsx)(te,{style:{marginRight:10},value:u,setValue:d,results:k,navigation:t,unauth:!0}),(0,f.jsx)(c.default,{style:{paddingHorizontal:193}}),(0,f.jsx)(x,{style:{marginLeft:10},title:"\u0412\u043e\u0439\u0442\u0438",onPress:function(){return t.navigate("Auth")}})]})},headerShadowVisible:!0,headerStyle:{height:100,borderBottomWidth:1,borderBottomColor:"#ccc",backgroundColor:"#fff",elevation:3,justifyContent:"space-between",flexDirection:"row",alignItems:"center",paddingHorizontal:20}}}},{name:"Reg",component:fe,options:function(e){var t=e.navigation;return{title:"",headerLeft:function(){return(0,f.jsx)(b.default,{onPress:function(){return t.navigate("MainUnauth")},children:(0,f.jsx)(je,{style:{marginLeft:20}})})},headerRight:function(){return(0,f.jsxs)(c.default,{style:{flexDirection:"row",alignItems:"center"},children:[(0,f.jsx)(te,{style:{marginRight:10},value:u,setValue:d,results:k,navigation:t,unauth:!0}),(0,f.jsx)(c.default,{style:{paddingHorizontal:193}}),(0,f.jsx)(x,{style:{marginLeft:10},title:"\u0412\u043e\u0439\u0442\u0438",onPress:function(){return t.navigate("Auth")}})]})},headerShadowVisible:!0,headerStyle:{height:100,borderBottomWidth:1,borderBottomColor:"#ccc",backgroundColor:"#fff",elevation:3,justifyContent:"space-between",flexDirection:"row",alignItems:"center",paddingHorizontal:20}}}},{name:"Forgot",component:ge,options:function(e){var t=e.navigation;return{title:"",headerLeft:function(){return(0,f.jsx)(b.default,{onPress:function(){return t.navigate("MainUnauth")},children:(0,f.jsx)(je,{style:{marginLeft:20}})})},headerRight:function(){return(0,f.jsxs)(c.default,{style:{flexDirection:"row",alignItems:"center"},children:[(0,f.jsx)(te,{style:{marginRight:10},value:u,setValue:d,results:k,navigation:t,unauth:!0}),(0,f.jsx)(c.default,{style:{paddingHorizontal:193}}),(0,f.jsx)(x,{style:{marginLeft:10},title:"\u0412\u043e\u0439\u0442\u0438",onPress:function(){return t.navigate("Auth")}})]})},headerShadowVisible:!0,headerStyle:{height:100,borderBottomWidth:1,borderBottomColor:"#ccc",backgroundColor:"#fff",elevation:3,justifyContent:"space-between",flexDirection:"row",alignItems:"center",paddingHorizontal:20}}}}];return(0,f.jsx)(P,{children:(0,f.jsx)(S,{children:(0,f.jsx)(pt,{children:(0,f.jsx)(l.default,{children:(0,f.jsx)(e.Navigator,{children:M.map((function(t){return(0,f.jsx)(e.Screen,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jt(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t),t.name)}))})})})})})}(function(){var e=(0,o.default)((function*(){yield Nt.loadAsync({"Montserrat-Regular":n(3564),"Montserrat-Italic":n(435),"Montserrat-Bold":n(5159)})}));return function(){return e.apply(this,arguments)}})()().then((function(){renderApp()})).catch((function(e){console.error("Error loading fonts:",e)}))},5159:(e,t,n)=>{e.exports=n.p+"static/media/Montserrat-Bold.0915f0a8c3367a6d05ec.ttf"},435:(e,t,n)=>{e.exports=n.p+"static/media/Montserrat-Italic.ce3a49f8e6c790a13ba0.ttf"},3564:(e,t,n)=>{e.exports=n.p+"static/media/Montserrat-Regular.2a2d37bf7680d86811db.ttf"}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,(()=>{var e=[];n.O=(t,r,a,o)=>{if(!r){var i=1/0;for(u=0;u<e.length;u++){for(var[r,a,o]=e[u],l=!0,s=0;s<r.length;s++)(!1&o||i>=o)&&Object.keys(n.O).every((e=>n.O[e](r[s])))?r.splice(s--,1):(l=!1,o<i&&(i=o));if(l){e.splice(u--,1);var c=a();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[r,a,o]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var i={};e=e||[null,t({}),t([]),t(t)];for(var l=2&a&&r;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach((e=>i[e]=()=>r[e]));return i.default=()=>r,n.d(o,i),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={179:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var a,o,[i,l,s]=r,c=0;if(i.some((t=>0!==e[t]))){for(a in l)n.o(l,a)&&(n.m[a]=l[a]);if(s)var u=s(n)}for(t&&t(r);c<i.length;c++)o=i[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(u)},r=self.webpackChunkweb=self.webpackChunkweb||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n.O(void 0,[214],(()=>n(8029)));r=n.O(r)})();
//# sourceMappingURL=main.de945003.js.map
{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _objectDestructuringEmpty from\"@babel/runtime/helpers/objectDestructuringEmpty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}import React,{useState,useContext,useEffect,useCallback}from'react';import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import TouchableHighlight from\"react-native-web/dist/exports/TouchableHighlight\";import Modal from\"react-native-web/dist/exports/Modal\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import useWindowDimensions from\"react-native-web/dist/exports/useWindowDimensions\";import{useFocusEffect}from'@react-navigation/native';import CreateSvg from\"../assets/icons/createSvg\";import useStyles from\"./styles/mainAuthScreen.module\";import SearchInput from\"../components/inputs/searchInput/searchInput\";import HeaderButton from\"../components/buttons/headerButton\";import DataInput from\"../components/inputs/textInput/textInput\";import SearchBody from\"../components/searchBodies/searchBody\";import ShowAvatar from\"../components/Avatar/ShowAvatar/showAvatar\";import BorderButton from\"../components/buttons/borderButton\";import ForwardMessage from\"../components/forwardMessage/forwardMessage\";import{ImageContext}from\"../context/ImageContext\";import AuthContext from\"../context/AuthContext\";import{MessageContext}from\"../context/MessageContext\";import DeleteSvg from\"../assets/icons/deleteSvg\";import{setProfileNickname,getProfileNickname}from\"../context/AsyncStorageUtil\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function MainAuthScreen(_ref){var _user$savedMessages,_user$savedMessages2;var navigation=_ref.navigation;var styles=useStyles();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showPopup=_useState2[0],setShowPopup=_useState2[1];var _useState3=useState({nickname:''}),_useState4=_slicedToArray(_useState3,2),inputText=_useState4[0],setInputText=_useState4[1];var _useContext=useContext(AuthContext),user=_useContext.user,updateUser=_useContext.updateUser,logout=_useContext.logout;var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),userText=_useState6[0],setUserText=_useState6[1];var username='admin';var password='root';var updateUserCallback=useCallback(function(updatedUser){return updateUser(updatedUser);},[updateUser]);var _useContext2=useContext(ImageContext),selectedImage=_useContext2.selectedImage;var _useWindowDimensions=useWindowDimensions(),width=_useWindowDimensions.width,height=_useWindowDimensions.height;useFocusEffect(React.useCallback(function(){fetchUserData();fetchProfileNickname();},[]));var handleLogout=function handleLogout(){logout();window.location.reload();};var fetchUserData=function(){var _ref2=_asyncToGenerator(function*(){try{var response=yield fetch(\"https://backend-web-service-test.onrender.com/api/users/\"+user.id,{method:'GET',headers:{'Content-Type':'application/json','Authorization':\"Basic \"+btoa(username+\":\"+password)}});if(response.ok){var userData=yield response.json();console.log(userData);updateUserCallback(userData);}else{console.log('Не удалось подгрузить данные пользователя');}}catch(error){alert('Ошибка при подключении к серверу:',error);}});return function fetchUserData(){return _ref2.apply(this,arguments);};}();var fetchProfileNickname=function(){var _ref3=_asyncToGenerator(function*(){try{var nickname=yield getProfileNickname();if(nickname&&nickname!==userText){setUserText(nickname);}}catch(error){}});return function fetchProfileNickname(){return _ref3.apply(this,arguments);};}();var handleClearForwardedMessages=function(){var _ref4=_asyncToGenerator(function*(){try{var response=yield fetch(\"https://backend-web-service-test.onrender.com/api/saved_message/delete_all?user_id=\"+(user==null?void 0:user.id),{method:'DELETE',headers:{'Content-Type':'application/json','Authorization':\"Basic \"+btoa(username+\":\"+password)}});if(response.ok){console.log(\"\\u0421\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u044F \\u0443\\u0441\\u043F\\u0435\\u0448\\u043D\\u043E \\u0443\\u0434\\u0430\\u043B\\u0435\\u043D\\u044B!\");window.location.reload();}else{console.log(\"\\u041D\\u0435 \\u0443\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C \\u0443\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u0441\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u044F!\");}}catch(error){alert('Ошибка при подключении к серверу:',error);}});return function handleClearForwardedMessages(){return _ref4.apply(this,arguments);};}();var isFormValid=inputText.nickname;var buttons=[{onPress:function onPress(_ref5){_objectDestructuringEmpty(_ref5);return navigation.navigate('Profile');},text:'Мой аккаунт'},{onPress:handleLogout,text:'Выйти'}];var handleCreateChannel=function(){var _ref6=_asyncToGenerator(function*(){try{var response=yield fetch('https://backend-web-service-test.onrender.com/api/channels/create',{method:'POST',headers:{'Content-Type':'application/json','Authorization':\"Basic \"+btoa(username+\":\"+password)},body:JSON.stringify({username:user.name,channelName:inputText.nickname})});if(response.ok){var channelResponse=yield response.json();setShowPopup(false);alert('Канал создан');window.location.reload();}else{alert('Не удалось создать канал');}}catch(error){alert('Ошибка при подключении к серверу:',error);}});return function handleCreateChannel(){return _ref6.apply(this,arguments);};}();return _jsxs(View,{style:styles.containerMain,children:[_jsx(View,{style:styles.messageContainer,children:_jsxs(ScrollView,{style:{flex:1,scrollbarWidth:0,flexDirection:'column'},children:[user.channels.map(function(channel){return _jsx(SearchBody,{data:{username:channel.name,onPress:function onPress(){return navigation.navigate('Channel',{channelId:channel.id});}}},channel.id);}),user.chats.map(function(chat){if(chat.recipient.name===user.name){return _jsx(SearchBody,{data:{avatarUrl:chat.sender.image,username:chat.sender.name,onPress:function onPress(){return navigation.navigate('Chat',{chatUser:chat.sender});},main:true,id:chat.id}},chat.id);}else{return _jsx(SearchBody,{data:{avatarUrl:chat.recipient.image,username:chat.recipient.name,onPress:function onPress(){return navigation.navigate('Chat',{chatUser:chat.recipient});},main:true,id:chat.id}},chat.id);}})]})}),_jsxs(View,{style:styles.profileContainer,children:[_jsx(ShowAvatar,{imageUrl:selectedImage,profile:true}),_jsx(Text,{style:{color:'#000000',fontSize:Math.min(width*0.03,height*0.055),textAlign:'center',marginBottom:13,fontFamily:'Montserrat-Regular'},children:userText?userText:user.name}),buttons.map(function(data,index){return _jsx(View,{style:{width:'70%'},children:_jsx(BorderButton,{data:data})},index);})]}),_jsxs(View,{style:styles.forwardContainer,children:[(user==null?void 0:(_user$savedMessages=user.savedMessages)==null?void 0:_user$savedMessages.length)>0&&_jsx(View,{style:{right:50,position:'absolute',zIndex:1},children:_jsx(TouchableHighlight,{onPress:handleClearForwardedMessages,children:_jsx(DeleteSvg,{})})}),_jsx(ScrollView,{style:{flex:1,scrollbarWidth:0,flexDirection:'column'},children:user==null?void 0:(_user$savedMessages2=user.savedMessages)==null?void 0:_user$savedMessages2.map(function(message){var _message$sender,_message$sender2,_message$sender3,_message$sender4;return _jsx(View,{style:{marginBottom:13},children:_jsx(ForwardMessage,{data:{imageUrl:(_message$sender=message.sender)==null?void 0:_message$sender.image,nickname:(_message$sender2=message.sender)==null?void 0:_message$sender2.name,message:message.data,own:((_message$sender3=message.sender)==null?void 0:_message$sender3.name)===user.name,from:message.chat?((_message$sender4=message.sender)==null?void 0:_message$sender4.name)===user.name?message.chat.sender.name:message.chat.recipient.name:message.channel.name,id:message.id}},message.id)});})})]}),_jsx(View,{style:styles.bottomLeft,children:_jsx(TouchableHighlight,{onPress:function onPress(){return setShowPopup(true);},children:_jsx(CreateSvg,{})})}),_jsx(Modal,{visible:showPopup,transparent:true,children:_jsxs(View,{style:styles.popupContainer,children:[_jsx(Text,{style:styles.text,children:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043A\\u0430\\u043D\\u0430\\u043B\\u0430\"}),_jsx(View,{style:{marginBottom:13,alignItems:'center'},children:_jsx(DataInput,{value:inputText.nickname,setValue:function setValue(text){return setInputText(_objectSpread(_objectSpread({},inputText),{},{nickname:text}));},placeholder:\"\",type:\"nickname\",flex:true})}),_jsx(TouchableHighlight,{onPress:function onPress(){return setShowPopup(false);},children:_jsx(HeaderButton,{title:\"Создать\",onPress:handleCreateChannel,disabled:!isFormValid})})]})})]});}","map":{"version":3,"names":["React","useState","useContext","useEffect","useCallback","View","Text","TouchableHighlight","Modal","TouchableOpacity","ScrollView","useWindowDimensions","useFocusEffect","CreateSvg","useStyles","SearchInput","HeaderButton","DataInput","SearchBody","ShowAvatar","BorderButton","ForwardMessage","ImageContext","AuthContext","MessageContext","DeleteSvg","setProfileNickname","getProfileNickname","jsx","_jsx","jsxs","_jsxs","MainAuthScreen","_ref","_user$savedMessages","_user$savedMessages2","navigation","styles","_useState","_useState2","_slicedToArray","showPopup","setShowPopup","_useState3","nickname","_useState4","inputText","setInputText","_useContext","user","updateUser","logout","_useState5","_useState6","userText","setUserText","username","password","updateUserCallback","updatedUser","_useContext2","selectedImage","_useWindowDimensions","width","height","fetchUserData","fetchProfileNickname","handleLogout","window","location","reload","_ref2","_asyncToGenerator","response","fetch","id","method","headers","btoa","ok","userData","json","console","log","error","alert","apply","arguments","_ref3","handleClearForwardedMessages","_ref4","isFormValid","buttons","onPress","_ref5","_objectDestructuringEmpty","navigate","text","handleCreateChannel","_ref6","body","JSON","stringify","name","channelName","channelResponse","style","containerMain","children","messageContainer","flex","scrollbarWidth","flexDirection","channels","map","channel","data","channelId","chats","chat","recipient","avatarUrl","sender","image","chatUser","main","profileContainer","imageUrl","profile","color","fontSize","Math","min","textAlign","marginBottom","fontFamily","index","forwardContainer","savedMessages","length","right","position","zIndex","message","_message$sender","_message$sender2","_message$sender3","_message$sender4","own","from","bottomLeft","visible","transparent","popupContainer","alignItems","value","setValue","_objectSpread","placeholder","type","title","disabled"],"sources":["C:/Users/ilias/OneDrive/Рабочий стол/test/screens/MainAuthScreen.js"],"sourcesContent":["import React, { useState, useContext, useEffect, useCallback } from 'react';\r\nimport { View, Text, TouchableHighlight, Modal, TouchableOpacity, ScrollView, useWindowDimensions } from 'react-native-web';\r\nimport { useFocusEffect } from '@react-navigation/native';\r\nimport CreateSvg from '../assets/icons/createSvg';\r\nimport useStyles from './styles/mainAuthScreen.module';\r\nimport SearchInput from '../components/inputs/searchInput/searchInput';\r\nimport HeaderButton from '../components/buttons/headerButton';\r\nimport DataInput from '../components/inputs/textInput/textInput';\r\nimport SearchBody from '../components/searchBodies/searchBody';\r\nimport ShowAvatar from '../components/Avatar/ShowAvatar/showAvatar';\r\nimport BorderButton from '../components/buttons/borderButton';\r\nimport ForwardMessage from '../components/forwardMessage/forwardMessage';\r\nimport { ImageContext } from '../context/ImageContext';\r\nimport AuthContext from '../context/AuthContext';\r\nimport { MessageContext } from '../context/MessageContext';\r\nimport DeleteSvg from '../assets/icons/deleteSvg';\r\nimport { setProfileNickname, getProfileNickname } from '../context/AsyncStorageUtil';\r\n\r\n\r\n\r\nexport default function MainAuthScreen({ navigation }) {\r\n  const styles = useStyles();\r\n  const [showPopup, setShowPopup] = useState(false);\r\n  const [inputText, setInputText] = useState({\r\n    nickname: '',\r\n  });\r\n  const { user, updateUser, logout } = useContext(AuthContext);\r\n  const [userText, setUserText] = useState('');\r\n  const username = 'admin';\r\n  const password = 'root';\r\n  const updateUserCallback = useCallback(updatedUser => updateUser(updatedUser), [updateUser]);\r\n  const { selectedImage } = useContext(ImageContext);\r\n  const { width, height } = useWindowDimensions();\r\n\r\n\r\n  useFocusEffect(\r\n    React.useCallback(() => {\r\n      fetchUserData();\r\n      fetchProfileNickname();\r\n    }, [])\r\n  );\r\n\r\n  const handleLogout = () => {\r\n    logout();\r\n    window.location.reload();\r\n  }\r\n\r\n  const fetchUserData = async () => {\r\n    try {\r\n      const response = await fetch(`https://backend-web-service-test.onrender.com/api/users/${user.id}`, {\r\n        method: 'GET',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Basic ${btoa(`${username}:${password}`)}`,\r\n        },\r\n      });\r\n\r\n      if (response.ok) {\r\n        const userData = await response.json();\r\n        console.log(userData);\r\n        updateUserCallback(userData);\r\n      } else {\r\n        console.log('Не удалось подгрузить данные пользователя');\r\n      }\r\n    } catch (error) {\r\n      alert('Ошибка при подключении к серверу:', error);\r\n    }\r\n  };\r\n  const fetchProfileNickname = async () => {\r\n    try {\r\n      const nickname = await getProfileNickname();\r\n      if (nickname && nickname !== userText) {\r\n        setUserText(nickname);\r\n      }\r\n    } catch (error) {\r\n    }\r\n  };\r\n  const handleClearForwardedMessages = async () => {\r\n    try {\r\n      const response = await fetch(`https://backend-web-service-test.onrender.com/api/saved_message/delete_all?user_id=${user?.id}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Basic ${btoa(`${username}:${password}`)}`,\r\n        },\r\n      });\r\n  \r\n      if (response.ok) {\r\n        console.log(`Сообщения успешно удалены!`);\r\n        window.location.reload();\r\n      } else {\r\n        console.log(`Не удалось удалить сообщения!`);\r\n\r\n      }\r\n    } catch (error) {\r\n      alert('Ошибка при подключении к серверу:', error);\r\n    }\r\n  };\r\n  \r\n\r\n  const isFormValid = inputText.nickname;\r\n  const buttons = [\r\n    {\r\n      onPress: ({ }) => navigation.navigate('Profile'),\r\n      text: 'Мой аккаунт'\r\n    },\r\n    {\r\n      onPress: handleLogout,\r\n      text: 'Выйти'\r\n    }\r\n  ];\r\n\r\n  const handleCreateChannel = async () => {\r\n    try {\r\n      const response = await fetch('https://backend-web-service-test.onrender.com/api/channels/create', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Basic ${btoa(`${username}:${password}`)}`,\r\n        },\r\n        body: JSON.stringify({\r\n          username: user.name,\r\n          channelName: inputText.nickname,\r\n        }),\r\n      });\r\n\r\n      if (response.ok) {\r\n        const channelResponse = await response.json();\r\n        setShowPopup(false);\r\n        alert('Канал создан');\r\n        window.location.reload();\r\n      } else {\r\n        alert('Не удалось создать канал');\r\n      }\r\n    } catch (error) {\r\n      alert('Ошибка при подключении к серверу:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <View style={styles.containerMain}>\r\n      <View style={styles.messageContainer}>\r\n        <ScrollView style={{ flex: 1, scrollbarWidth: 0, flexDirection: 'column' }}>\r\n          {user.channels.map((channel) => (\r\n            <SearchBody\r\n              key={channel.id}\r\n              data={{\r\n                username: channel.name,\r\n                onPress: () => navigation.navigate('Channel', { channelId: channel.id }),\r\n              }}\r\n            />\r\n          ))}\r\n          {user.chats.map((chat) => {\r\n            if (chat.recipient.name === user.name) {\r\n              return (\r\n                <SearchBody\r\n                  key={chat.id}\r\n                  data={{\r\n                    avatarUrl: chat.sender.image,\r\n                    username: chat.sender.name,\r\n                    onPress: () => navigation.navigate('Chat', { chatUser: chat.sender }),\r\n                    main: true,\r\n                    id: chat.id\r\n                  }}\r\n                />\r\n              );\r\n            } else {\r\n              return (\r\n                <SearchBody\r\n                  key={chat.id}\r\n                  data={{\r\n                    avatarUrl: chat.recipient.image,\r\n                    username: chat.recipient.name,\r\n                    onPress: () => navigation.navigate('Chat', { chatUser: chat.recipient }),\r\n                    main: true,\r\n                    id: chat.id\r\n                  }}\r\n                />\r\n              );\r\n            }\r\n          })}\r\n        </ScrollView>\r\n      </View>\r\n      <View style={styles.profileContainer}>\r\n        <ShowAvatar imageUrl={selectedImage} profile={true} />\r\n        <Text style={{\r\n          color: '#000000',\r\n          fontSize:  Math.min(width * 0.03, height * 0.055),\r\n          textAlign: 'center',\r\n          marginBottom: 13,\r\n          fontFamily: 'Montserrat-Regular',\r\n        }}>{userText ? userText : user.name}</Text>\r\n        {buttons.map((data, index) => (\r\n          <View style={{ width: '70%' }} key={index}>\r\n            <BorderButton data={data} />\r\n          </View>\r\n        ))}\r\n      </View>\r\n      <View style={styles.forwardContainer}>\r\n        {user?.savedMessages?.length > 0 && (\r\n          <View style={{ right: 50, position: 'absolute', zIndex: 1 }}>\r\n            <TouchableHighlight onPress={handleClearForwardedMessages}>\r\n              <DeleteSvg />\r\n            </TouchableHighlight>\r\n          </View>\r\n        )}\r\n        <ScrollView style={{ flex: 1, scrollbarWidth: 0, flexDirection: 'column' }}>\r\n\r\n          {user?.savedMessages?.map((message) => {\r\n            return (\r\n              <View style={{ marginBottom: 13 }}>\r\n                <ForwardMessage\r\n                  key={message.id}\r\n                  data={{\r\n                    imageUrl: message.sender?.image,\r\n                    nickname: message.sender?.name,\r\n\r\n                    message: message.data,\r\n\r\n                    own: message.sender?.name === user.name,\r\n                    from: message.chat\r\n                    ? message.sender?.name === user.name\r\n                      ? message.chat.sender.name\r\n                      : message.chat.recipient.name\r\n                    : message.channel.name,\r\n                     id: message.id\r\n                  }}\r\n                />\r\n              </View>\r\n            );\r\n          })}\r\n        </ScrollView>\r\n      </View>\r\n      <View style={styles.bottomLeft}>\r\n        <TouchableHighlight onPress={() => setShowPopup(true)}>\r\n          <CreateSvg />\r\n        </TouchableHighlight>\r\n      </View>\r\n      <Modal visible={showPopup} transparent={true}>\r\n        <View style={styles.popupContainer}>\r\n          <Text style={styles.text}>Название канала</Text>\r\n          <View style={{ marginBottom: 13, alignItems: 'center' }}>\r\n            <DataInput\r\n              value={inputText.nickname}\r\n              setValue={(text) => setInputText({ ...inputText, nickname: text })}\r\n              placeholder={\"\"}\r\n              type={\"nickname\"}\r\n              flex={true}\r\n            />\r\n          </View>\r\n          <TouchableHighlight onPress={() => setShowPopup(false)}>\r\n            <HeaderButton title={\"Создать\"} onPress={handleCreateChannel} disabled={!isFormValid} />\r\n            </TouchableHighlight>\r\n        </View>\r\n      </Modal>\r\n    </View>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
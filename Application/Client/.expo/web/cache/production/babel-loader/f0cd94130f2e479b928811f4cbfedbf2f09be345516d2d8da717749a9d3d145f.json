{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}import React,{useState,useRef,useEffect,useContext}from'react';import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import TouchableHighlight from\"react-native-web/dist/exports/TouchableHighlight\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import useWindowDimensions from\"react-native-web/dist/exports/useWindowDimensions\";import{useFocusEffect}from'@react-navigation/native';import useStyles from\"./styles/mainAuthScreen.module\";import HeaderButton from\"../components/buttons/headerButton\";import ChangeAvatar from\"../components/Avatar/ChangeAvatar/changeAvatar\";import BackSvg from\"../assets/icons/backSvg\";import AddSvg from\"../assets/icons/addSvg\";import NicknameInput from\"../components/inputs/nicknameInput/nicknameInput\";import AsyncStorage from'@react-native-async-storage/async-storage';import{ImageContext}from\"../context/ImageContext\";import AuthContext from\"../context/AuthContext\";import{setProfileNickname,getProfileNickname,getEmail}from\"../context/AsyncStorageUtil\";import ChangeSvg from\"../assets/icons/changeSvg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ProfileScreen(_ref){var navigation=_ref.navigation;var styles=useStyles();var _useContext=useContext(ImageContext),selectedImage=_useContext.selectedImage;var _useContext2=useContext(AuthContext),user=_useContext2.user;var _useState=useState({name:(user==null?void 0:user.name)||''}),_useState2=_slicedToArray(_useState,2),inputText=_useState2[0],setInputText=_useState2[1];var _useWindowDimensions=useWindowDimensions(),width=_useWindowDimensions.width,height=_useWindowDimensions.height;var username='admin';var password='root';var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),userText=_useState4[0],setUserText=_useState4[1];var scale=Math.min(width*0.0009,height*0.001);var scaleChange=Math.min(width*0.0006,height*0.001);var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),updateNameSuccess=_useState6[0],setUpdateNameSuccess=_useState6[1];useFocusEffect(React.useCallback(function(){fetchEmail();fetchSavedNickname();},[user]));var fetchEmail=function(){var _ref2=_asyncToGenerator(function*(){try{var email=yield getEmail();if(email&&email!==userText){setUserText(email);}else if(!email&&!userText){setUserText((user==null?void 0:user.email)||'');}}catch(error){console.log('Ошибка при подгрузке почты:',error);}});return function fetchEmail(){return _ref2.apply(this,arguments);};}();var emailContainerRef=useRef(null);var _useState7=useState(36),_useState8=_slicedToArray(_useState7,2),emailFontSize=_useState8[0],setEmailFontSize=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),showInputField=_useState10[0],setShowInputField=_useState10[1];var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),rotationDeg=_useState12[0],setRotationDeg=_useState12[1];useEffect(function(){handleEmailLayout();fetchSavedNickname();},[]);var handleEmailLayout=function handleEmailLayout(){var emailContainerWidth=emailContainerRef.current.offsetWidth;var desiredMaxWidth=300;var desiredMaxFontSize=Math.min(width*0.02,height*0.045);var emailFontSize=Math.min(desiredMaxFontSize,desiredMaxWidth/emailContainerWidth*desiredMaxFontSize);setEmailFontSize(emailFontSize);};var fetchSavedNickname=function(){var _ref3=_asyncToGenerator(function*(){try{var savedNickname=yield AsyncStorage.getItem('profile_nickname');if(savedNickname){setInputText({name:user.name});}}catch(error){console.log('Error fetching saved nickname:',error);}});return function fetchSavedNickname(){return _ref3.apply(this,arguments);};}();var updateName=function(){var _ref4=_asyncToGenerator(function*(newName){try{var id=user==null?void 0:user.id;if(id){var response=yield fetch(\"https://linking-api.onrender.com/api/users/\"+id+\"/update/name?name=\"+encodeURIComponent(newName),{method:'PUT',headers:{'Content-Type':'application/json','Authorization':\"Basic \"+btoa(username+\":\"+password)}});if(response.ok){}else{alert('Не удалось обновить имя пользователя');setProfileNickname(user.name);setUpdateNameSuccess(false);setShowInputField(true);setRotationDeg(90);}}}catch(error){alert('Ошибка при подключении к серверу',error);}});return function updateName(_x){return _ref4.apply(this,arguments);};}();var handleAddSvgPress=function(){var _ref5=_asyncToGenerator(function*(){if(showInputField){setShowInputField(false);setRotationDeg(0);try{if(inputText.name!==user.name){try{yield updateName(inputText.name);}catch(error){console.log('Ошибка при обновлении имени пользователя:',error);setShowInputField(true);setRotationDeg(90);return;}}}catch(error){console.log('Ошибка сохранения никнейма:',error);}try{yield setProfileNickname(inputText.name);}catch(error){console.log('Ошибка при подгрузке никнейма:',error);}}else{setShowInputField(true);setRotationDeg(90);}});return function handleAddSvgPress(){return _ref5.apply(this,arguments);};}();return _jsxs(View,{style:styles.containerMain,children:[_jsxs(View,{style:styles.profileSettingsContainer,children:[_jsx(View,{style:{marginBottom:13},children:_jsx(ChangeAvatar,{children:selectedImage})}),_jsxs(View,{style:styles.nicknameContainer,children:[showInputField?_jsx(NicknameInput,{value:inputText.name,setValue:function setValue(text){return setInputText(_objectSpread(_objectSpread({},inputText),{},{name:text}));},flex:false}):_jsx(Text,{style:{fontSize:Math.min(width*0.03,height*0.055),fontFamily:'Montserrat-Regular',paddingHorizontal:30},children:inputText.name}),_jsx(View,{children:_jsx(TouchableOpacity,{onPress:handleAddSvgPress,children:_jsx(ChangeSvg,{style:{transform:\"rotate(\"+(showInputField?360:0)+\"deg) scale(\"+scale+\")\",transition:'transform 0.5s ease'}})})})]}),_jsx(View,{style:{borderTopWidth:1,borderBottomWidth:1,borderColor:'#000000',paddingHorizontal:10,paddingVertical:15,width:width*0.2,overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap',marginBottom:13},children:_jsx(View,{ref:emailContainerRef,onLayout:handleEmailLayout,children:_jsx(Text,{style:{color:'#000000',fontSize:emailFontSize,textAlign:'center',fontFamily:'Montserrat-Regular',marginBottom:13},children:userText?userText:user.email})})}),_jsx(View,{style:{alignItems:'center',width:'100%',marginLeft:20},children:_jsx(HeaderButton,{title:'Изменить почту',onPress:function onPress(){return navigation.navigate('ChangeEmail');}})}),_jsx(View,{style:{marginBottom:13,alignItems:'center',width:'100%',marginLeft:20},children:_jsx(HeaderButton,{title:'Изменить пароль',onPress:function onPress(){return navigation.navigate('ChangePassword');}})})]}),_jsx(View,{style:[styles.topLeft,{transform:[{scale:scale}]}],children:_jsx(TouchableHighlight,{onPress:function onPress(){return navigation.navigate('MainAuth');},children:_jsx(BackSvg,{})})})]});}","map":{"version":3,"names":["React","useState","useRef","useEffect","useContext","View","Text","TouchableHighlight","TouchableOpacity","useWindowDimensions","useFocusEffect","useStyles","HeaderButton","ChangeAvatar","BackSvg","AddSvg","NicknameInput","AsyncStorage","ImageContext","AuthContext","setProfileNickname","getProfileNickname","getEmail","ChangeSvg","jsx","_jsx","jsxs","_jsxs","ProfileScreen","_ref","navigation","styles","_useContext","selectedImage","_useContext2","user","_useState","name","_useState2","_slicedToArray","inputText","setInputText","_useWindowDimensions","width","height","username","password","_useState3","_useState4","userText","setUserText","scale","Math","min","scaleChange","_useState5","_useState6","updateNameSuccess","setUpdateNameSuccess","useCallback","fetchEmail","fetchSavedNickname","_ref2","_asyncToGenerator","email","error","console","log","apply","arguments","emailContainerRef","_useState7","_useState8","emailFontSize","setEmailFontSize","_useState9","_useState10","showInputField","setShowInputField","_useState11","_useState12","rotationDeg","setRotationDeg","handleEmailLayout","emailContainerWidth","current","offsetWidth","desiredMaxWidth","desiredMaxFontSize","_ref3","savedNickname","getItem","updateName","_ref4","newName","id","response","fetch","encodeURIComponent","method","headers","btoa","ok","alert","_x","handleAddSvgPress","_ref5","style","containerMain","children","profileSettingsContainer","marginBottom","nicknameContainer","value","setValue","text","_objectSpread","flex","fontSize","fontFamily","paddingHorizontal","onPress","transform","transition","borderTopWidth","borderBottomWidth","borderColor","paddingVertical","overflow","textOverflow","whiteSpace","ref","onLayout","color","textAlign","alignItems","marginLeft","title","navigate","topLeft"],"sources":["C:/Users/ilias/OneDrive/Рабочий стол/messenger_project/Application/Client/screens/ProfileScreen.js"],"sourcesContent":["import React, { useState, useRef, useEffect, useContext } from 'react';\r\nimport { View, Text, TouchableHighlight, TouchableOpacity, useWindowDimensions } from 'react-native';\r\nimport { useFocusEffect } from '@react-navigation/native';\r\nimport useStyles from './styles/mainAuthScreen.module';\r\nimport HeaderButton from '../components/buttons/headerButton';\r\nimport ChangeAvatar from '../components/Avatar/ChangeAvatar/changeAvatar';\r\nimport BackSvg from '../assets/icons/backSvg';\r\nimport AddSvg from '../assets/icons/addSvg';\r\nimport NicknameInput from '../components/inputs/nicknameInput/nicknameInput';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { ImageContext } from '../context/ImageContext';\r\nimport AuthContext from '../context/AuthContext';\r\nimport { setProfileNickname, getProfileNickname, getEmail } from '../context/AsyncStorageUtil';\r\nimport ChangeSvg from '../assets/icons/changeSvg';\r\n\r\nexport default function ProfileScreen({ navigation }) {\r\n  const styles = useStyles();\r\n  const { selectedImage } = useContext(ImageContext);\r\n  const { user } = useContext(AuthContext);\r\n  const [inputText, setInputText] = useState({\r\n    name: user?.name || '',\r\n  });\r\n  const { width, height } = useWindowDimensions();\r\n  const username = 'admin';\r\n  const password = 'root';\r\n  const [userText, setUserText] = useState('');\r\n  const scale = Math.min(width * 0.0009, height * 0.001);\r\n  const scaleChange = Math.min(width * 0.0006, height * 0.001);\r\n  const [updateNameSuccess, setUpdateNameSuccess] = useState(true);\r\n\r\n  useFocusEffect(\r\n    React.useCallback(() => {\r\n      fetchEmail();\r\n      fetchSavedNickname();\r\n    }, [user])\r\n  );\r\n\r\n  const fetchEmail = async () => {\r\n    try {\r\n      const email = await getEmail();\r\n      if (email && email !== userText) {\r\n        setUserText(email);\r\n      } else if (!email && !userText) {\r\n        setUserText(user?.email || '');\r\n      }\r\n    } catch (error) {\r\n      console.log('Ошибка при подгрузке почты:', error);\r\n    }\r\n  };\r\n  const emailContainerRef = useRef(null);\r\n  const [emailFontSize, setEmailFontSize] = useState(36);\r\n\r\n\r\n  const [showInputField, setShowInputField] = useState(false);\r\n  const [rotationDeg, setRotationDeg] = useState(0);\r\n\r\n  useEffect(() => {\r\n    handleEmailLayout();\r\n    fetchSavedNickname();\r\n  }, []);\r\n\r\n  const handleEmailLayout = () => {\r\n    const emailContainerWidth = emailContainerRef.current.offsetWidth;\r\n    const desiredMaxWidth = 300;\r\n    const desiredMaxFontSize = Math.min(width * 0.02, height * 0.045);\r\n    const emailFontSize = Math.min(desiredMaxFontSize, (desiredMaxWidth / emailContainerWidth) * desiredMaxFontSize);\r\n    setEmailFontSize(emailFontSize);\r\n  };\r\n\r\n  const fetchSavedNickname = async () => {\r\n    try {\r\n      const savedNickname = await AsyncStorage.getItem('profile_nickname');\r\n      if (savedNickname) {\r\n        setInputText({ name: user.name });\r\n      }\r\n    } catch (error) {\r\n      console.log('Error fetching saved nickname:', error);\r\n    }\r\n  };\r\n\r\n  const updateName = async (newName) => {\r\n    try {\r\n      const id = user?.id;\r\n      if (id) {\r\n        const response = await fetch(`https://linking-api.onrender.com/api/users/${id}/update/name?name=${encodeURIComponent(newName)}`, {\r\n          method: 'PUT',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Basic ${btoa(`${username}:${password}`)}`,\r\n          },\r\n        });\r\n\r\n        if (response.ok) {\r\n        } else {\r\n          alert('Не удалось обновить имя пользователя');\r\n          setProfileNickname(user.name);\r\n          setUpdateNameSuccess(false);\r\n          setShowInputField(true); \r\n            setRotationDeg(90); \r\n\r\n        }\r\n      }\r\n    } catch (error) {\r\n      alert('Ошибка при подключении к серверу', error);\r\n    }\r\n  };\r\n\r\n  const handleAddSvgPress = async () => {\r\n    if (showInputField) {\r\n      setShowInputField(false);\r\n      setRotationDeg(0);\r\n      try {\r\n        if (inputText.name !== user.name) {\r\n          try {\r\n            await updateName(inputText.name);\r\n            \r\n          } catch (error) {\r\n            console.log('Ошибка при обновлении имени пользователя:', error);\r\n            setShowInputField(true); \r\n            setRotationDeg(90); \r\n            return;\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.log('Ошибка сохранения никнейма:', error);\r\n      }\r\n      try {\r\n        await setProfileNickname(inputText.name);\r\n      } catch (error) {\r\n        console.log('Ошибка при подгрузке никнейма:', error);\r\n      }\r\n    } else {\r\n      setShowInputField(true);\r\n      setRotationDeg(90);\r\n    }\r\n  };\r\n  \r\n\r\n\r\n\r\n  return (\r\n    <View style={styles.containerMain}>\r\n      <View style={styles.profileSettingsContainer}>\r\n        <View style={{ marginBottom: 13 }}>\r\n          <ChangeAvatar children={selectedImage} />\r\n        </View>\r\n        <View style={styles.nicknameContainer}>\r\n          {showInputField ? (\r\n            <NicknameInput\r\n              value={inputText.name}\r\n              setValue={(text) => setInputText({ ...inputText, name: text })}\r\n              flex={false}\r\n            />\r\n          ) : (\r\n            <Text style={{ fontSize: Math.min(width * 0.03, height * 0.055), fontFamily: 'Montserrat-Regular', paddingHorizontal: 30 }}>\r\n              {inputText.name}\r\n            </Text>\r\n          )}\r\n          <View >\r\n            <TouchableOpacity onPress={handleAddSvgPress}>\r\n              <ChangeSvg style={{\r\n                transform: `rotate(${showInputField ? 360 : 0}deg) scale(${scale})`,\r\n                transition: 'transform 0.5s ease',\r\n              }} />\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n        <View\r\n          style={{\r\n            borderTopWidth: 1,\r\n            borderBottomWidth: 1,\r\n            borderColor: '#000000',\r\n            paddingHorizontal: 10,\r\n            paddingVertical: 15,\r\n            width: width * 0.2,\r\n            overflow: 'hidden',\r\n            textOverflow: 'ellipsis',\r\n            whiteSpace: 'nowrap',\r\n            marginBottom: 13,\r\n          }}\r\n        >\r\n          <View ref={emailContainerRef} onLayout={handleEmailLayout}>\r\n            <Text\r\n              style={{\r\n                color: '#000000',\r\n                fontSize: emailFontSize,\r\n                textAlign: 'center',\r\n                fontFamily: 'Montserrat-Regular',\r\n                marginBottom: 13,\r\n              }}\r\n            >\r\n              {userText ? userText : user.email}\r\n            </Text>\r\n          </View>\r\n        </View>\r\n        <View style={{ alignItems: 'center', width: '100%', marginLeft: 20 }}>\r\n          <HeaderButton title={'Изменить почту'} onPress={() => navigation.navigate('ChangeEmail')} />\r\n        </View>\r\n        <View style={{ marginBottom: 13, alignItems: 'center', width: '100%', marginLeft: 20 }}>\r\n          <HeaderButton title={'Изменить пароль'} onPress={() => navigation.navigate('ChangePassword')} />\r\n        </View>\r\n      </View>\r\n      <View style={[styles.topLeft, { transform: [{ scale }] }]}>\r\n        <TouchableHighlight onPress={() => navigation.navigate('MainAuth')}>\r\n          <BackSvg />\r\n        </TouchableHighlight>\r\n      </View>\r\n    </View>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
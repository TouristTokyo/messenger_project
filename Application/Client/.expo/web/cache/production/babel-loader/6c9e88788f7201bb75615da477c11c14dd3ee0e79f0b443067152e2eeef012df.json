{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React from\"react\";import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import TouchableHighlight from\"react-native-web/dist/exports/TouchableHighlight\";import ShowAvatar from\"../Avatar/ShowAvatar/showAvatar\";import DeleteSvg from\"../../assets/icons/deleteSvg\";import useStyles from\"./searchBodies.module\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function SearchBody(_ref){var data=_ref.data;var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),isHovered=_React$useState2[0],setIsHovered=_React$useState2[1];var avatarUrl=data.avatarUrl,username=data.username,onPress=data.onPress,containerStyle=data.containerStyle,main=data.main,id=data.id;var name='admin';var password='root';var styles=useStyles();var deleteChat=function deleteChat(){fetch(\"https://linking-api.onrender.com/api/chats/delete/\"+id,{method:\"DELETE\",headers:{'Content-Type':'application/json','Authorization':\"Basic \"+btoa(name+\":\"+password)}}).then(function(response){if(response.ok){alert(\"Чат успешно удалён\");window.location.reload();}else{alert(\"Не удалоось удалить чат\");}}).catch(function(error){alert(\"Ошибка при удалении чата\",error);});};return _jsx(TouchableHighlight,{style:[styles.container,containerStyle,isHovered&&{backgroundColor:\"#E7DEDE\"}],onPress:onPress,onMouseEnter:function onMouseEnter(){return setIsHovered(true);},onMouseLeave:function onMouseLeave(){return setIsHovered(false);},children:_jsxs(View,{style:styles.rowContainer,children:[avatarUrl&&_jsxs(View,{style:styles.avatarContainer,children:[_jsx(ShowAvatar,{imageUrl:avatarUrl}),_jsx(Text,{style:styles.username,children:username})]}),!avatarUrl&&_jsx(Text,{style:styles.channelName,children:username}),main&&_jsx(View,{style:[styles.deleteContainer,{transform:[{scale:0.5}]}],children:_jsx(TouchableHighlight,{onPress:deleteChat,children:_jsx(DeleteSvg,{})})})]})});}","map":{"version":3,"names":["React","View","Text","TouchableHighlight","ShowAvatar","DeleteSvg","useStyles","jsx","_jsx","jsxs","_jsxs","SearchBody","_ref","data","_React$useState","useState","_React$useState2","_slicedToArray","isHovered","setIsHovered","avatarUrl","username","onPress","containerStyle","main","id","name","password","styles","deleteChat","fetch","method","headers","btoa","then","response","ok","alert","window","location","reload","catch","error","style","container","backgroundColor","onMouseEnter","onMouseLeave","children","rowContainer","avatarContainer","imageUrl","channelName","deleteContainer","transform","scale"],"sources":["C:/Users/ilias/OneDrive/Рабочий стол/messenger_project/Application/Client/components/searchBodies/searchBody.js"],"sourcesContent":["import React from \"react\";\r\nimport { View, Text, TouchableHighlight } from \"react-native-web\";\r\nimport ShowAvatar from \"../Avatar/ShowAvatar/showAvatar\";\r\nimport DeleteSvg from \"../../assets/icons/deleteSvg\";\r\nimport useStyles from \"./searchBodies.module\";\r\n\r\nexport default function SearchBody({ data }) {\r\n  const [isHovered, setIsHovered] = React.useState(false);\r\n  const { avatarUrl, username, onPress, containerStyle, main, id} = data;\r\n  const name = 'admin';\r\n  const password = 'root';\r\n  const styles = useStyles();\r\n\r\n  const deleteChat = () => {\r\n    fetch(`https://linking-api.onrender.com/api/chats/delete/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Basic ${btoa(`${name}:${password}`)}`,\r\n      },\r\n    })\r\n      .then(response => {\r\n        if (response.ok) {\r\n          alert(\"Чат успешно удалён\");\r\n          window.location.reload();\r\n        } else {\r\n          alert(\"Не удалоось удалить чат\");\r\n        }\r\n      })\r\n      .catch(error => {\r\n        alert(\"Ошибка при удалении чата\", error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <TouchableHighlight\r\n      style={[styles.container, containerStyle, isHovered && { backgroundColor: \"#E7DEDE\" }]}\r\n      onPress={onPress}\r\n      onMouseEnter={() => setIsHovered(true)}\r\n      onMouseLeave={() => setIsHovered(false)}\r\n    >\r\n      <View style={styles.rowContainer}>\r\n        {avatarUrl && (\r\n          <View style={styles.avatarContainer}>\r\n            <ShowAvatar imageUrl={avatarUrl} />\r\n            <Text style={styles.username}>{username}</Text>\r\n          </View>\r\n        )}\r\n        {!avatarUrl && <Text style={styles.channelName}>{username}</Text>}\r\n        {main && (\r\n          <View style={[styles.deleteContainer, { transform: [{ scale: 0.5 }] }]}>\r\n            <TouchableHighlight onPress={deleteChat}>\r\n              <DeleteSvg />\r\n            </TouchableHighlight>\r\n          </View>\r\n        )}\r\n      </View>\r\n    </TouchableHighlight>\r\n  );\r\n}\r\n\r\n\r\n\r\n"],"mappings":"iEAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAAC,OAAAC,IAAA,iDAAAC,IAAA,iDAAAC,kBAAA,wDAE1B,MAAO,CAAAC,UAAU,uCACjB,MAAO,CAAAC,SAAS,oCAChB,MAAO,CAAAC,SAAS,6BAA8B,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE9C,cAAe,SAAS,CAAAC,UAAUA,CAAAC,IAAA,CAAW,IAAR,CAAAC,IAAI,CAAAD,IAAA,CAAJC,IAAI,CACvC,IAAAC,eAAA,CAAkCd,KAAK,CAACe,QAAQ,CAAC,KAAK,CAAC,CAAAC,gBAAA,CAAAC,cAAA,CAAAH,eAAA,IAAhDI,SAAS,CAAAF,gBAAA,IAAEG,YAAY,CAAAH,gBAAA,IAC9B,GAAQ,CAAAI,SAAS,CAAiDP,IAAI,CAA9DO,SAAS,CAAEC,QAAQ,CAAuCR,IAAI,CAAnDQ,QAAQ,CAAEC,OAAO,CAA8BT,IAAI,CAAzCS,OAAO,CAAEC,cAAc,CAAcV,IAAI,CAAhCU,cAAc,CAAEC,IAAI,CAAQX,IAAI,CAAhBW,IAAI,CAAEC,EAAE,CAAIZ,IAAI,CAAVY,EAAE,CAC9D,GAAM,CAAAC,IAAI,CAAG,OAAO,CACpB,GAAM,CAAAC,QAAQ,CAAG,MAAM,CACvB,GAAM,CAAAC,MAAM,CAAGtB,SAAS,CAAC,CAAC,CAE1B,GAAM,CAAAuB,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAA,CAAS,CACvBC,KAAK,sDAAsDL,EAAE,CAAI,CAC/DM,MAAM,CAAE,QAAQ,CAChBC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClC,eAAe,UAAWC,IAAI,CAAIP,IAAI,KAAIC,QAAU,CACtD,CACF,CAAC,CAAC,CACCO,IAAI,CAAC,SAAAC,QAAQ,CAAI,CAChB,GAAIA,QAAQ,CAACC,EAAE,CAAE,CACfC,KAAK,CAAC,oBAAoB,CAAC,CAC3BC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC,CAC1B,CAAC,IAAM,CACLH,KAAK,CAAC,yBAAyB,CAAC,CAClC,CACF,CAAC,CAAC,CACDI,KAAK,CAAC,SAAAC,KAAK,CAAI,CACdL,KAAK,CAAC,0BAA0B,CAAEK,KAAK,CAAC,CAC1C,CAAC,CAAC,CACN,CAAC,CAED,MACE,CAAAlC,IAAA,CAACL,kBAAkB,EACjBwC,KAAK,CAAE,CAACf,MAAM,CAACgB,SAAS,CAAErB,cAAc,CAAEL,SAAS,EAAI,CAAE2B,eAAe,CAAE,SAAU,CAAC,CAAE,CACvFvB,OAAO,CAAEA,OAAQ,CACjBwB,YAAY,CAAE,SAAAA,aAAA,QAAM,CAAA3B,YAAY,CAAC,IAAI,CAAC,EAAC,CACvC4B,YAAY,CAAE,SAAAA,aAAA,QAAM,CAAA5B,YAAY,CAAC,KAAK,CAAC,EAAC,CAAA6B,QAAA,CAExCtC,KAAA,CAACT,IAAI,EAAC0C,KAAK,CAAEf,MAAM,CAACqB,YAAa,CAAAD,QAAA,EAC9B5B,SAAS,EACRV,KAAA,CAACT,IAAI,EAAC0C,KAAK,CAAEf,MAAM,CAACsB,eAAgB,CAAAF,QAAA,EAClCxC,IAAA,CAACJ,UAAU,EAAC+C,QAAQ,CAAE/B,SAAU,CAAE,CAAC,CACnCZ,IAAA,CAACN,IAAI,EAACyC,KAAK,CAAEf,MAAM,CAACP,QAAS,CAAA2B,QAAA,CAAE3B,QAAQ,CAAO,CAAC,EAC3C,CACP,CACA,CAACD,SAAS,EAAIZ,IAAA,CAACN,IAAI,EAACyC,KAAK,CAAEf,MAAM,CAACwB,WAAY,CAAAJ,QAAA,CAAE3B,QAAQ,CAAO,CAAC,CAChEG,IAAI,EACHhB,IAAA,CAACP,IAAI,EAAC0C,KAAK,CAAE,CAACf,MAAM,CAACyB,eAAe,CAAE,CAAEC,SAAS,CAAE,CAAC,CAAEC,KAAK,CAAE,GAAI,CAAC,CAAE,CAAC,CAAE,CAAAP,QAAA,CACrExC,IAAA,CAACL,kBAAkB,EAACmB,OAAO,CAAEO,UAAW,CAAAmB,QAAA,CACtCxC,IAAA,CAACH,SAAS,GAAE,CAAC,CACK,CAAC,CACjB,CACP,EACG,CAAC,CACW,CAAC,CAEzB"},"metadata":{},"sourceType":"module","externalDependencies":[]}